import{R as n,r as T,g as de}from"./jsx-runtime-BMrMXMSG.js";import{b as ue,c as he,d as fe}from"./context-g-r66Qxo.js";import{u as X,c as k,v as me,M as pe,B as Y,T as K}from"./BlockStack-CBC_PXe6.js";import{h as Q,u as ge}from"./use-is-after-initial-mount-DPsAqfZs.js";import{T as be,S as Ce,a as ye,P as ve}from"./Pagination-B_BjUQTQ.js";import{I as Se}from"./Icon-C-cZWGQM.js";import{B as ee}from"./use-toggle-Bx-o2WPs.js";import{E as te}from"./EventListener-kZJ1rsuP.js";import{a as ae}from"./TextField-B-Nm0VLF.js";import{B as L}from"./Box-CnqJGKrn.js";import{I as Ee}from"./InlineStack-BYbsxF_T.js";var ke=function(a){return n.createElement("svg",Object.assign({viewBox:"0 0 20 20"},a),n.createElement("path",{d:"M10.75 5.75c0-.414-.336-.75-.75-.75s-.75.336-.75.75v3.5h-3.5c-.414 0-.75.336-.75.75s.336.75.75.75h3.5v3.5c0 .414.336.75.75.75s.75-.336.75-.75v-3.5h3.5c.414 0 .75-.336.75-.75s-.336-.75-.75-.75h-3.5v-3.5Z"}))};ke.displayName="PlusIcon";var Te=function(a){return n.createElement("svg",Object.assign({viewBox:"0 0 20 20"},a),n.createElement("path",{fillRule:"evenodd",d:"M12.5 10a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Zm-1.5 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"}),n.createElement("path",{fillRule:"evenodd",d:"M9.377 2.5c-.926 0-1.676.75-1.676 1.676v.688c0 .056-.043.17-.198.251-.153.08-.303.168-.448.262-.147.097-.268.076-.318.048l-.6-.346a1.676 1.676 0 0 0-2.29.613l-.622 1.08a1.676 1.676 0 0 0 .613 2.289l.648.374c.048.028.124.12.119.29a5.484 5.484 0 0 0 .005.465c.009.175-.07.27-.119.299l-.653.377a1.676 1.676 0 0 0-.613 2.29l.623 1.08a1.676 1.676 0 0 0 2.29.613l.7-.405c.048-.028.166-.048.312.043.115.071.233.139.353.202.155.08.198.195.198.251v.811c0 .926.75 1.676 1.676 1.676h1.246c.926 0 1.676-.75 1.676-1.676v-.81c0-.057.042-.171.197-.252.121-.063.239-.13.354-.202.146-.091.264-.07.312-.043l.7.405a1.676 1.676 0 0 0 2.29-.614l.623-1.08a1.676 1.676 0 0 0-.613-2.289l-.653-.377c-.05-.029-.128-.123-.119-.3a5.494 5.494 0 0 0 .005-.463c-.005-.171.07-.263.12-.291l.647-.374a1.676 1.676 0 0 0 .613-2.29l-.623-1.079a1.676 1.676 0 0 0-2.29-.613l-.6.346c-.049.028-.17.048-.318-.048a5.4 5.4 0 0 0-.448-.262c-.155-.081-.197-.195-.197-.251v-.688c0-.926-.75-1.676-1.676-1.676h-1.246Zm-.176 1.676c0-.097.078-.176.176-.176h1.246c.097 0 .176.079.176.176v.688c0 .728.462 1.298 1.003 1.58.11.058.219.122.323.19.517.337 1.25.458 1.888.09l.6-.346a.176.176 0 0 1 .24.064l.623 1.08a.176.176 0 0 1-.064.24l-.648.374c-.623.36-.888 1.034-.868 1.638a4.184 4.184 0 0 1-.004.337c-.032.615.23 1.31.867 1.677l.653.377a.176.176 0 0 1 .064.24l-.623 1.08a.176.176 0 0 1-.24.065l-.701-.405c-.624-.36-1.341-.251-1.855.069a3.91 3.91 0 0 1-.255.145c-.54.283-1.003.853-1.003 1.581v.811a.176.176 0 0 1-.176.176h-1.246a.176.176 0 0 1-.176-.176v-.81c0-.73-.462-1.3-1.003-1.582a3.873 3.873 0 0 1-.255-.146c-.514-.32-1.23-.428-1.855-.068l-.7.405a.176.176 0 0 1-.241-.065l-.623-1.08a.176.176 0 0 1 .064-.24l.653-.377c.637-.368.899-1.062.867-1.677a3.97 3.97 0 0 1-.004-.337c.02-.604-.245-1.278-.868-1.638l-.648-.374a.176.176 0 0 1-.064-.24l.623-1.08a.176.176 0 0 1 .24-.064l.6.346c.638.368 1.37.247 1.888-.09a3.85 3.85 0 0 1 .323-.19c.54-.282 1.003-.852 1.003-1.58v-.688Z"}))};Te.displayName="SettingsIcon";var ie=function(a){return n.createElement("svg",Object.assign({viewBox:"0 0 20 20"},a),n.createElement("path",{fillRule:"evenodd",d:"M9.116 4.323a1.25 1.25 0 0 1 1.768 0l2.646 2.647a.75.75 0 0 1-1.06 1.06l-2.47-2.47-2.47 2.47a.75.75 0 1 1-1.06-1.06l2.646-2.647Z"}),n.createElement("path",{fillOpacity:.33,fillRule:"evenodd",d:"M9.116 15.677a1.25 1.25 0 0 0 1.768 0l2.646-2.647a.75.75 0 0 0-1.06-1.06l-2.47 2.47-2.47-2.47a.75.75 0 0 0-1.06 1.06l2.646 2.647Z"}))};ie.displayName="SortAscendingIcon";var re=function(a){return n.createElement("svg",Object.assign({viewBox:"0 0 20 20"},a),n.createElement("path",{fillOpacity:.33,fillRule:"evenodd",d:"M9.116 4.823a1.25 1.25 0 0 1 1.768 0l2.646 2.647a.75.75 0 0 1-1.06 1.06l-2.47-2.47-2.47 2.47a.75.75 0 1 1-1.06-1.06l2.646-2.647Z"}),n.createElement("path",{fillRule:"evenodd",d:"M9.116 15.177a1.25 1.25 0 0 0 1.768 0l2.646-2.647a.75.75 0 0 0-1.06-1.06l-2.47 2.47-2.47-2.47a.75.75 0 0 0-1.06 1.06l2.646 2.647Z"}))};re.displayName="SortDescendingIcon";function ne({alt:l,sourceSet:a,source:t,crossOrigin:e,onLoad:s,className:i,...r}){const u=a?a.map(({source:h,descriptor:c})=>`${h} ${c}`).join(","):null,o=T.useCallback(()=>{s&&s()},[s]);return n.createElement("img",Object.assign({alt:l,src:t,crossOrigin:e,className:i,onLoad:o},u?{srcSet:u}:{},r))}var Ne=typeof Element<"u",_e=typeof Map=="function",De=typeof Set=="function",Fe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function $(l,a){if(l===a)return!0;if(l&&a&&typeof l=="object"&&typeof a=="object"){if(l.constructor!==a.constructor)return!1;var t,e,s;if(Array.isArray(l)){if(t=l.length,t!=a.length)return!1;for(e=t;e--!==0;)if(!$(l[e],a[e]))return!1;return!0}var i;if(_e&&l instanceof Map&&a instanceof Map){if(l.size!==a.size)return!1;for(i=l.entries();!(e=i.next()).done;)if(!a.has(e.value[0]))return!1;for(i=l.entries();!(e=i.next()).done;)if(!$(e.value[1],a.get(e.value[0])))return!1;return!0}if(De&&l instanceof Set&&a instanceof Set){if(l.size!==a.size)return!1;for(i=l.entries();!(e=i.next()).done;)if(!a.has(e.value[0]))return!1;return!0}if(Fe&&ArrayBuffer.isView(l)&&ArrayBuffer.isView(a)){if(t=l.length,t!=a.length)return!1;for(e=t;e--!==0;)if(l[e]!==a[e])return!1;return!0}if(l.constructor===RegExp)return l.source===a.source&&l.flags===a.flags;if(l.valueOf!==Object.prototype.valueOf&&typeof l.valueOf=="function"&&typeof a.valueOf=="function")return l.valueOf()===a.valueOf();if(l.toString!==Object.prototype.toString&&typeof l.toString=="function"&&typeof a.toString=="function")return l.toString()===a.toString();if(s=Object.keys(l),t=s.length,t!==Object.keys(a).length)return!1;for(e=t;e--!==0;)if(!Object.prototype.hasOwnProperty.call(a,s[e]))return!1;if(Ne&&l instanceof Element)return!1;for(e=t;e--!==0;)if(!((s[e]==="_owner"||s[e]==="__v"||s[e]==="__o")&&l.$$typeof)&&!$(l[s[e]],a[s[e]]))return!1;return!0}return l!==l&&a!==a}var He=function(a,t){try{return $(a,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}};const Pe=de(He);function xe(l){return function(a,t){const{firstVisibleColumnIndex:e,tableLeftVisibleEdge:s,tableRightVisibleEdge:i}=l,r=a.offsetLeft,u=r+a.offsetWidth,o=le(r,s,i,"left"),h=le(u,s,i,"right"),c=o||h,f=a.offsetWidth;return c&&(l.firstVisibleColumnIndex=Math.min(e,t)),{leftEdge:r,rightEdge:u,isVisible:c,width:f,index:t}}}function le(l,a,t,e){return l>=a+(e==="left"?0:30)&&l<=t-30}function Ie(l,a){const{firstVisibleColumnIndex:t}=l,e=Math.max(t-1,0),s=a[e],i=a[t];return{previousColumn:s,currentColumn:i}}var d={DataTable:"Polaris-DataTable",condensed:"Polaris-DataTable--condensed",Navigation:"Polaris-DataTable__Navigation",Pip:"Polaris-DataTable__Pip","Pip-visible":"Polaris-DataTable__Pip--visible",ScrollContainer:"Polaris-DataTable__ScrollContainer",Table:"Polaris-DataTable__Table",TableRow:"Polaris-DataTable__TableRow",Cell:"Polaris-DataTable__Cell",IncreasedTableDensity:"Polaris-DataTable__IncreasedTableDensity",ZebraStripingOnData:"Polaris-DataTable__ZebraStripingOnData",RowCountIsEven:"Polaris-DataTable__RowCountIsEven",ShowTotalsInFooter:"Polaris-DataTable__ShowTotalsInFooter","Cell-separate":"Polaris-DataTable__Cell--separate","Cell-firstColumn":"Polaris-DataTable__Cell--firstColumn","Cell-numeric":"Polaris-DataTable__Cell--numeric","Cell-truncated":"Polaris-DataTable__Cell--truncated","Cell-header":"Polaris-DataTable__Cell--header","Cell-sortable":"Polaris-DataTable__Cell--sortable","Heading-left":"Polaris-DataTable__Heading--left","Cell-verticalAlignTop":"Polaris-DataTable__Cell--verticalAlignTop","Cell-verticalAlignBottom":"Polaris-DataTable__Cell--verticalAlignBottom","Cell-verticalAlignMiddle":"Polaris-DataTable__Cell--verticalAlignMiddle","Cell-verticalAlignBaseline":"Polaris-DataTable__Cell--verticalAlignBaseline",hoverable:"Polaris-DataTable--hoverable","Cell-hovered":"Polaris-DataTable__Cell--hovered",Icon:"Polaris-DataTable__Icon",Heading:"Polaris-DataTable__Heading",StickyHeaderEnabled:"Polaris-DataTable__StickyHeaderEnabled",StickyHeaderWrapper:"Polaris-DataTable__StickyHeaderWrapper","Cell-sorted":"Polaris-DataTable__Cell--sorted","Cell-total":"Polaris-DataTable__Cell--total",ShowTotals:"Polaris-DataTable__ShowTotals","Cell-total-footer":"Polaris-DataTable--cellTotalFooter",Footer:"Polaris-DataTable__Footer",StickyHeaderInner:"Polaris-DataTable__StickyHeaderInner","StickyHeaderInner-isSticky":"Polaris-DataTable__StickyHeaderInner--isSticky",StickyHeaderTable:"Polaris-DataTable__StickyHeaderTable",FixedFirstColumn:"Polaris-DataTable__FixedFirstColumn",StickyTableHeadingsRow:"Polaris-DataTable__StickyTableHeadingsRow",TooltipContent:"Polaris-DataTable__TooltipContent"};function A({content:l,contentType:a,nthColumn:t,firstColumn:e,truncate:s,header:i,total:r,totalInFooter:u,sorted:o,sortable:h,sortDirection:c,inFixedNthColumn:f,verticalAlign:p="top",defaultSortDirection:m="ascending",onSort:v,colSpan:C,setRef:y=()=>{},stickyHeadingCell:S=!1,stickyCellWidth:_,hovered:F=!1,handleFocus:D=()=>{},hasFixedNthColumn:H=!1,fixedCellVisible:P=!1,firstColumnMinWidth:N,style:E,lastFixedFirstColumn:I}){const O=X(),V=a==="numeric",w=k(d.Cell,d[`Cell-${me("verticalAlign",p)}`],e&&d["Cell-firstColumn"],s&&d["Cell-truncated"],i&&d["Cell-header"],r&&d["Cell-total"],u&&d["Cell-total-footer"],V&&d["Cell-numeric"],h&&d["Cell-sortable"],o&&d["Cell-sorted"],S&&d.StickyHeaderCell,F&&d["Cell-hovered"],I&&f&&P&&d["Cell-separate"],t&&f&&S&&d.FixedFirstColumn),Z=k(i&&d.Heading,i&&a==="text"&&d["Heading-left"]),z=k(h&&d.Icon),W=o&&c?c:m,q=W==="descending"?re:ie,U=c==="ascending"?"descending":"ascending",G=O.translate("Polaris.DataTable.sortAccessibilityLabel",{direction:o?U:W}),B=n.createElement("span",{className:z},n.createElement(Se,{source:q,accessibilityLabel:G})),J=!(S&&H&&t&&!f),b=h?n.createElement("button",{className:Z,onClick:v,onFocus:D,tabIndex:J?0:-1},B,l):l,R=C&&C>1?{colSpan:C}:{},M=t&&N?{minWidth:N}:{minWidth:_},j=n.createElement("th",Object.assign({ref:y},Q.props,R,{className:w,"aria-sort":c,style:{...E,...M},"data-index-table-sticky-heading":!0}),b),oe=i?n.createElement("th",Object.assign({},Q.props,{"aria-sort":c},R,{ref:y,className:w,scope:"col",style:{...M}}),b):n.createElement("th",Object.assign({},R,{ref:y,className:w,scope:"row",style:{...M}}),s?n.createElement(we,{className:d.TooltipContent},l):l),ce=i||e||t?oe:n.createElement("td",Object.assign({className:w},R),l);return S?j:ce}const we=({children:l,className:a=""})=>{const t=T.useRef(null),{current:e}=t,s=n.createElement("span",{ref:t,className:a},l);return e?.scrollWidth>e?.offsetWidth?n.createElement(be,{content:t.current.innerText},s):s};function Re({children:l,onMount:a,fallback:t=null}){const e=ge(),s=e?l:t;return T.useEffect(()=>{e&&a&&a()},[e,a]),n.createElement(n.Fragment,null,s)}function Me(){const l=T.useContext(ue);if(!l)throw new pe("No StickyManager was provided.");return l}class Le extends T.Component{constructor(...a){super(...a),this.state={isSticky:!1,style:{}},this.placeHolderNode=null,this.stickyNode=null,this.setPlaceHolderNode=t=>{this.placeHolderNode=t},this.setStickyNode=t=>{this.stickyNode=t},this.handlePositioning=(t,e=0,s=0,i=0)=>{const{isSticky:r}=this.state;(t&&!r||!t&&r)&&(this.adjustPlaceHolderNode(t),this.setState({isSticky:!r},()=>{if(this.props.onStickyChange==null||(this.props.onStickyChange(!r),this.props.boundingElement==null))return null;this.props.boundingElement.toggleAttribute("data-sticky-active")}));const u=t?{position:"fixed",top:e,left:s,width:i}:{};this.setState({style:u})},this.adjustPlaceHolderNode=t=>{this.placeHolderNode&&this.stickyNode&&(this.placeHolderNode.style.paddingBottom=t?`${he(this.stickyNode).height}px`:"0px")}}componentDidMount(){const{boundingElement:a,offset:t=!1,disableWhenStacked:e=!1,stickyManager:s}=this.props;!this.stickyNode||!this.placeHolderNode||s.registerStickyItem({stickyNode:this.stickyNode,placeHolderNode:this.placeHolderNode,handlePositioning:this.handlePositioning,offset:t,boundingElement:a,disableWhenStacked:e})}componentWillUnmount(){const{stickyManager:a}=this.props;this.stickyNode&&a.unregisterStickyItem(this.stickyNode)}render(){const{style:a,isSticky:t}=this.state,{children:e}=this.props,s=Ae(e)?e(t):e;return n.createElement("div",null,n.createElement("div",{ref:this.setPlaceHolderNode}),n.createElement("div",{ref:this.setStickyNode,style:a},s))}}function Ae(l){return typeof l=="function"}function Oe(l){const a=Me();return n.createElement(Le,Object.assign({},l,{stickyManager:a}))}function Ve({columnVisibilityData:l,isScrolledFarthestLeft:a,isScrolledFarthestRight:t,navigateTableLeft:e,navigateTableRight:s,fixedFirstColumns:i,setRef:r=()=>{}}){const u=X(),o=l.map((f,p)=>{if(p<i)return;const m=k(d.Pip,f.isVisible&&d["Pip-visible"]);return n.createElement("div",{className:m,key:`pip-${p}`})}),h=u.translate("Polaris.DataTable.navAccessibilityLabel",{direction:"left"}),c=u.translate("Polaris.DataTable.navAccessibilityLabel",{direction:"right"});return n.createElement("div",{className:d.Navigation,ref:r},n.createElement(ee,{variant:"tertiary",icon:Ce,disabled:a,accessibilityLabel:h,onClick:e}),o,n.createElement(ee,{variant:"tertiary",icon:ye,disabled:t,accessibilityLabel:c,onClick:s}))}const se=l=>{const a=[];return l&&l.forEach(t=>{a.push(t.clientHeight)}),a};class We extends T.PureComponent{constructor(...a){super(...a),this.state={condensed:!1,columnVisibilityData:[],isScrolledFarthestLeft:!0,isScrolledFarthestRight:!1,rowHovered:void 0},this.dataTable=T.createRef(),this.scrollContainer=T.createRef(),this.table=T.createRef(),this.stickyTable=T.createRef(),this.stickyNav=null,this.headerNav=null,this.tableHeadings=[],this.stickyHeadings=[],this.tableHeadingWidths=[],this.stickyHeaderActive=!1,this.scrollStopTimer=null,this.handleResize=fe(()=>{const{table:{current:t},scrollContainer:{current:e}}=this;let s=!1;t&&e&&(s=t.scrollWidth>e.clientWidth+1),this.setState({condensed:s,...this.calculateColumnVisibilityData(s)})}),this.setCellRef=({ref:t,index:e,inStickyHeader:s})=>{if(t!=null)if(s){this.stickyHeadings[e]=t;const i=t.querySelector("button");if(i==null)return;i.addEventListener("focus",this.handleHeaderButtonFocus)}else this.tableHeadings[e]=t,this.tableHeadingWidths[e]=t.clientWidth},this.changeHeadingFocus=()=>{const{tableHeadings:t,stickyHeadings:e,stickyNav:s,headerNav:i}=this,r=e.findIndex(m=>m===document.activeElement?.parentElement),u=t.findIndex(m=>m===document.activeElement?.parentElement),o=s?.querySelectorAll("button"),h=i?.querySelectorAll("button");let c=-1;o?.forEach((m,v)=>{m===document.activeElement&&(c=v)});let f=-1;if(h?.forEach((m,v)=>{m===document.activeElement&&(f=v)}),r<0&&u<0&&c<0&&f<0)return null;let p;if(r>=0?p=t[r].querySelector("button"):u>=0&&(p=e[u].querySelector("button")),c>=0?p=h?.[c]:f>=0&&(p=o?.[f]),p==null)return null;p.style.visibility="visible",p.focus(),p.style.removeProperty("visibility")},this.calculateColumnVisibilityData=t=>{const e=this.fixedFirstColumns(),{table:{current:s},scrollContainer:{current:i},dataTable:{current:r}}=this,{stickyHeader:u}=this.props;if((u||t)&&s&&i&&r){const o=s.querySelectorAll(Q.selector),h=o[e-1],c=e?h.offsetLeft+h.offsetWidth:0;if(o.length>0){const f=o.length-1,p=i.scrollLeft+c,m=i.scrollLeft+r.offsetWidth,v={firstVisibleColumnIndex:f,tableLeftVisibleEdge:p,tableRightVisibleEdge:m},C=[...o].map(xe(v)),y=C[C.length-1],S=e?p===c:p===0;return{columnVisibilityData:C,...Ie(v,C),isScrolledFarthestLeft:S,isScrolledFarthestRight:y.rightEdge<=m}}}return{columnVisibilityData:[],previousColumn:void 0,currentColumn:void 0}},this.handleHeaderButtonFocus=t=>{const e=this.fixedFirstColumns();if(this.scrollContainer.current==null||t.target==null||this.state.columnVisibilityData.length===0)return;const i=t.target.parentNode,r=this.scrollContainer.current.scrollLeft,u=this.scrollContainer.current.offsetWidth,o=r+u,h=this.state.columnVisibilityData.length>0?this.state.columnVisibilityData[e]?.rightEdge:0,c=i.offsetLeft,f=i.offsetLeft+i.offsetWidth;r>c-h&&(this.scrollContainer.current.scrollLeft=c-h),f>o&&(this.scrollContainer.current.scrollLeft=f-u)},this.stickyHeaderScrolling=()=>{const{current:t}=this.stickyTable,{current:e}=this.scrollContainer;t==null||e==null||(t.scrollLeft=e.scrollLeft)},this.scrollListener=()=>{this.scrollStopTimer&&clearTimeout(this.scrollStopTimer),this.scrollStopTimer=setTimeout(()=>{this.setState(t=>({...this.calculateColumnVisibilityData(t.condensed)}))},100),this.setState({isScrolledFarthestLeft:this.scrollContainer.current?.scrollLeft===0}),this.props.stickyHeader&&this.stickyHeaderActive&&this.stickyHeaderScrolling()},this.handleHover=t=>()=>{this.setState({rowHovered:t})},this.handleFocus=t=>{const e=this.fixedFirstColumns();if(this.scrollContainer.current==null||t.target==null)return;const s=t.target.parentNode,r=this.props?this.state.columnVisibilityData[e]?.rightEdge:0,o=s.offsetLeft-r;this.scrollContainer.current.scrollLeft>o&&(this.scrollContainer.current.scrollLeft=o)},this.navigateTable=t=>{const e=this.fixedFirstColumns(),{currentColumn:s,previousColumn:i}=this.state,r=this.state.columnVisibilityData[e-1]?.rightEdge;if(!s||!i)return;let u=0;for(let c=0;c<s.index;c++)u+=this.state.columnVisibilityData[c].width;const{current:o}=this.scrollContainer;return()=>{let c=0;e?c=t==="right"?u-r+s.width:u-i.width-r:c=t==="right"?s.rightEdge:i.leftEdge,o&&(o.scrollLeft=c,requestAnimationFrame(()=>{this.setState(f=>({...this.calculateColumnVisibilityData(f.condensed)}))}))}},this.renderHeading=({heading:t,headingIndex:e,inFixedNthColumn:s,inStickyHeader:i})=>{const{sortable:r,truncate:u=!1,columnContentTypes:o,defaultSortDirection:h,initialSortColumnIndex:c=0,verticalAlign:f,firstColumnMinWidth:p}=this.props,m=this.fixedFirstColumns(),{sortDirection:v=h,sortedColumnIndex:C=c,isScrolledFarthestLeft:y}=this.state;let S;const _=`heading-cell-${e}`,F=`stickyheader-${e}`,D=i?F:_;if(r){const E=r[e],I=E&&C===e;S={defaultSortDirection:h,sorted:I,sortable:E,sortDirection:I?v:"none",onSort:this.defaultOnSort(e),fixedNthColumn:m,inFixedNthColumn:m}}const H=i?this.tableHeadingWidths[e]:void 0,P=!y,N={header:!0,stickyHeadingCell:i,content:t,contentType:o[e],nthColumn:e<m,fixedFirstColumns:m,truncate:u,headingIndex:e,...S,verticalAlign:f,handleFocus:this.handleFocus,stickyCellWidth:H,fixedCellVisible:P,firstColumnMinWidth:p};return s&&i?[n.createElement(A,Object.assign({key:D},N,{setRef:E=>{this.setCellRef({ref:E,index:e,inStickyHeader:i})},inFixedNthColumn:!1})),n.createElement(A,Object.assign({key:`${D}-sticky`},N,{setRef:E=>{this.setCellRef({ref:E,index:e,inStickyHeader:i})},inFixedNthColumn:!!m,lastFixedFirstColumn:e===m-1,style:{left:this.state.columnVisibilityData[e]?.leftEdge}}))]:n.createElement(A,Object.assign({key:D},N,{setRef:E=>{this.setCellRef({ref:E,index:e,inStickyHeader:i})},lastFixedFirstColumn:e===m-1,inFixedNthColumn:s}))},this.totalsRowHeading=()=>{const{i18n:t,totals:e,totalsName:s}=this.props,i=s||{singular:t.translate("Polaris.DataTable.totalRowHeading"),plural:t.translate("Polaris.DataTable.totalsRowHeading")};return e&&e.filter(r=>r!=="").length>1?i.plural:i.singular},this.renderTotals=({total:t,index:e})=>{const s=this.fixedFirstColumns(),i=`totals-cell-${e}`,{truncate:r=!1,verticalAlign:u,columnContentTypes:o}=this.props;let h,c;e===0&&(h=this.totalsRowHeading()),t!==""&&e>0&&(c=o[e],h=t);const f=this.props.showTotalsInFooter;return n.createElement(A,{total:!0,totalInFooter:f,nthColumn:e<=s-1,firstColumn:e===0,key:i,content:h,contentType:c,truncate:r,verticalAlign:u})},this.getColSpan=(t,e,s,i)=>{if(this.fixedFirstColumns())return 1;const u=t||1,o=e||s,h=Math.floor(o/u),c=o%u;return i===0?h+c:h},this.defaultRenderRow=({row:t,index:e,inFixedNthColumn:s,rowHeights:i})=>{const{columnContentTypes:r,truncate:u=!1,verticalAlign:o,hoverable:h=!0,headings:c}=this.props,{condensed:f}=this.state,p=this.fixedFirstColumns(),m=k(d.TableRow,h&&d.hoverable);return n.createElement("tr",{key:`row-${e}`,className:m,onMouseEnter:this.handleHover(e),onMouseLeave:this.handleHover()},t.map((v,C)=>{const y=e===this.state.rowHovered,S=`cell-${C}-row-${e}`,_=this.getColSpan(t.length,c.length,r.length,C);return n.createElement(A,{key:S,content:v,contentType:r[C],nthColumn:C<=p-1,firstColumn:C===0,truncate:u,verticalAlign:o,colSpan:_,hovered:y,style:i?{height:`${i[e]}px`}:{},inFixedNthColumn:f&&s})}))},this.defaultOnSort=t=>{const{onSort:e,defaultSortDirection:s="ascending",initialSortColumnIndex:i}=this.props,{sortDirection:r=s,sortedColumnIndex:u=i}=this.state;let o=s;return u===t&&(o=r==="ascending"?"descending":"ascending"),()=>{this.setState({sortDirection:o,sortedColumnIndex:t},()=>{e&&e(t,o)})}}}componentDidMount(){this.handleResize()}componentDidUpdate(a){Pe(a,this.props)||this.handleResize()}componentWillUnmount(){this.handleResize.cancel()}render(){const{headings:a,totals:t,showTotalsInFooter:e,rows:s,footerContent:i,hideScrollIndicator:r=!1,increasedTableDensity:u=!1,hasZebraStripingOnData:o=!1,stickyHeader:h=!1,hasFixedFirstColumn:c=!1,pagination:f}=this.props,{condensed:p,columnVisibilityData:m,isScrolledFarthestLeft:v,isScrolledFarthestRight:C}=this.state,y=this.fixedFirstColumns(),S=s.length%2===0,_=k(d.DataTable,p&&d.condensed,t&&d.ShowTotals,e&&d.ShowTotalsInFooter,o&&d.ZebraStripingOnData,o&&S&&d.RowCountIsEven),F=k(d.TableWrapper,p&&d.condensed,u&&d.IncreasedTableDensity,h&&d.StickyHeaderEnabled),D=n.createElement("tr",null,a.map((g,b)=>this.renderHeading({heading:g,headingIndex:b,inFixedNthColumn:!1,inStickyHeader:!1}))),H=t?n.createElement("tr",null,t.map((g,b)=>this.renderTotals({total:g,index:b}))):null,P=s.map(g=>g.slice(0,y)),N=a.slice(0,y),E=t?.slice(0,y),I=this.table.current?.children[0].childNodes,O=this.table.current?.children[1].childNodes,V=se(I),w=se(O),Z=p&&y!==0&&n.createElement("table",{className:k(d.FixedFirstColumn,!v&&d.separate),style:{width:`${m[y-1]?.rightEdge}px`}},n.createElement("thead",null,n.createElement("tr",{style:{height:`${V[0]}px`}},N.map((g,b)=>this.renderHeading({heading:g,headingIndex:b,inFixedNthColumn:!0,inStickyHeader:!1}))),t&&!e&&n.createElement("tr",{style:{height:`${V[1]}px`}},E?.map((g,b)=>this.renderTotals({total:g,index:b})))),n.createElement("tbody",null,P.map((g,b)=>this.defaultRenderRow({row:g,index:b,inFixedNthColumn:!0,rowHeights:w}))),t&&e&&n.createElement("tfoot",null,n.createElement("tr",null,E?.map((g,b)=>this.renderTotals({total:g,index:b}))))),z=s.map((g,b)=>this.defaultRenderRow({row:g,index:b,inFixedNthColumn:!1})),W=i?n.createElement("div",{className:d.Footer},i):null,q=f?n.createElement(ve,Object.assign({type:"table"},f)):null,U=e?null:H,G=e?n.createElement("tfoot",null,H):null,B=g=>r?null:n.createElement(Ve,{columnVisibilityData:m,isScrolledFarthestLeft:v,isScrolledFarthestRight:C,navigateTableLeft:this.navigateTable("left"),navigateTableRight:this.navigateTable("right"),fixedFirstColumns:y,setRef:b=>{g==="header"?this.headerNav=b:g==="sticky"&&(this.stickyNav=b)}}),J=h?n.createElement(Re,null,n.createElement("div",{className:d.StickyHeaderWrapper,role:"presentation"},n.createElement(Oe,{boundingElement:this.dataTable.current,onStickyChange:g=>{this.changeHeadingFocus(),this.stickyHeaderActive=g}},g=>{const b=k(d.StickyHeaderInner,g&&d["StickyHeaderInner-isSticky"]),R=k(d.StickyHeaderTable,!v&&d.separate);return n.createElement("div",{className:b},n.createElement("div",null,B("sticky")),n.createElement("table",{className:R,ref:this.stickyTable},n.createElement("thead",null,n.createElement("tr",{className:d.StickyTableHeadingsRow},a.map((M,j)=>this.renderHeading({heading:M,headingIndex:j,inFixedNthColumn:!!(j<=y-1&&y),inStickyHeader:!0}))))))}))):null;return n.createElement("div",{className:F,ref:this.dataTable},J,B("header"),n.createElement("div",{className:_},n.createElement("div",{className:d.ScrollContainer,ref:this.scrollContainer},n.createElement(te,{event:"resize",handler:this.handleResize}),n.createElement(te,{capture:!0,passive:!0,event:"scroll",handler:this.scrollListener}),Z,n.createElement("table",{className:d.Table,ref:this.table},n.createElement("thead",null,D,U),n.createElement("tbody",null,z),G)),q,W))}fixedFirstColumns(){const{hasFixedFirstColumn:a,fixedFirstColumns:t=0,headings:e}=this.props,s=a&&!t?1:t;return s>=e.length?0:s}}function Xe(l){const a=X();return n.createElement(We,Object.assign({},l,{i18n:a}))}var x={ImageContainer:"Polaris-EmptyState__ImageContainer",Image:"Polaris-EmptyState__Image",loaded:"Polaris-EmptyState--loaded",imageContained:"Polaris-EmptyState--imageContained",SkeletonImageContainer:"Polaris-EmptyState__SkeletonImageContainer",SkeletonImage:"Polaris-EmptyState__SkeletonImage"};function Ye({children:l,heading:a,image:t,largeImage:e,imageContained:s,fullWidth:i=!1,action:r,secondaryAction:u,footerContent:o}){const[h,c]=T.useState(!1),f=T.useCallback(()=>{c(!0)},[]),p=k(x.Image,h&&x.loaded,s&&x.imageContained),m=e?n.createElement(ne,{alt:"",role:"presentation",source:e,className:p,sourceSet:[{source:t,descriptor:"568w"},{source:e,descriptor:"1136w"}],sizes:"(max-width: 568px) 60vw",onLoad:f}):n.createElement(ne,{alt:"",role:"presentation",className:p,source:t,onLoad:f}),v=k(x.SkeletonImage,h&&x.loaded),C=k(x.ImageContainer,!h&&x.SkeletonImageContainer),y=n.createElement("div",{className:C},m,n.createElement("div",{className:v})),S=u?ae(u,{}):null,_=o?n.createElement(L,{paddingBlockStart:"400"},n.createElement(K,{as:"span",alignment:"center",variant:"bodySm"},o)):null,F=r?ae(r,{variant:"primary",size:"medium"}):null,D=a?n.createElement(L,{paddingBlockEnd:"150"},n.createElement(K,{variant:"headingMd",as:"p",alignment:"center"},a)):null,H=l?n.createElement(K,{as:"span",alignment:"center",variant:"bodySm"},l):null,P=D||l?n.createElement(L,{paddingBlockEnd:"400"},D,H):null,N=F||S?n.createElement(Ee,{align:"center",gap:"200"},S,F):null,E=P||N||_?n.createElement(L,{maxWidth:i?"100%":"400px"},n.createElement(Y,{inlineAlign:"center"},P,N,_)):null;return n.createElement(L,{paddingInlineStart:"0",paddingInlineEnd:"0",paddingBlockStart:"500",paddingBlockEnd:"1600"},n.createElement(Y,{inlineAlign:"center"},y,E))}export{Xe as D,Ye as E,ke as S,Te as a};
