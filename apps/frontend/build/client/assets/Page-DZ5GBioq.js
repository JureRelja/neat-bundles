import{R as e,r as f}from"./jsx-runtime-BMrMXMSG.js";import{c as I,T as F,B as He,u as q,v as Be}from"./BlockStack-CwgU8ZDe.js";import{w as _e,i as De,C as ie,a as Ge}from"./ButtonGroup-CD4h0o06.js";import{U as je,h as Oe,w as $e,d as Ue,e as ze,g as Z,i as he,u as Ke,B as ue}from"./use-toggle-Eq3DVTD9.js";import{B as Ve}from"./Bleed-CojZzunP.js";import{o as Ze,p as Qe}from"./use-is-after-initial-mount-2owk6l5Z.js";import{u as Ye,b as qe}from"./context-DYc23ASG.js";import{K as se,T as Je,b as Xe}from"./TextField-BeUUpecL.js";import{B as T}from"./Box-rytM3cuw.js";import{b as Ne,T as de,K as le,c as et,d as tt,P as nt}from"./Pagination-Dn9qu2P0.js";import{e as rt,P as ot}from"./context-BqWvd0oi.js";import{E as ve}from"./EventListener-kZJ1rsuP.js";import{B as at}from"./Badge-SnCWnBbz.js";import{I as Te}from"./Icon-C8tnHXot.js";import{I as oe}from"./InlineStack-BZy780dy.js";import{u as it}from"./use-event-listener-CxlhjZIg.js";import{M as st}from"./context-B2IVp4WU.js";var xe=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{fillRule:"evenodd",d:"M16.5 10a.75.75 0 0 1-.75.75h-9.69l2.72 2.72a.75.75 0 0 1-1.06 1.06l-4-4a.75.75 0 0 1 0-1.06l4-4a.75.75 0 1 1 1.06 1.06l-2.72 2.72h9.69a.75.75 0 0 1 .75.75Z"}))};xe.displayName="ArrowLeftIcon";var Me=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{d:"M6 10a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"}),e.createElement("path",{d:"M11.5 10a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"}),e.createElement("path",{d:"M17 10a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"}))};Me.displayName="MenuHorizontalIcon";var ke=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{fillRule:"evenodd",d:"M12.323 13.383a5.5 5.5 0 1 1 1.06-1.06l2.897 2.897a.75.75 0 1 1-1.06 1.06l-2.897-2.897Zm.677-4.383a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"}))};ke.displayName="SearchIcon";const Ie=f.createContext(!1);function lt({children:t,filterActions:n}){return e.createElement(Ie.Provider,{value:n},t)}var w={Item:"Polaris-ActionList__Item",default:"Polaris-ActionList--default",active:"Polaris-ActionList--active",destructive:"Polaris-ActionList--destructive",disabled:"Polaris-ActionList--disabled",Prefix:"Polaris-ActionList__Prefix",Suffix:"Polaris-ActionList__Suffix",indented:"Polaris-ActionList--indented",menu:"Polaris-ActionList--menu",Text:"Polaris-ActionList__Text"};function We({id:t,badge:n,content:r,accessibilityLabel:o,helpText:a,url:s,onAction:l,onMouseEnter:i,icon:c,image:m,prefix:u,suffix:g,disabled:p,external:d,destructive:P,ellipsis:y,truncate:b,active:S,role:_,variant:M="default"}){const x=I(w.Item,p&&w.disabled,P&&w.destructive,S&&w.active,M==="default"&&w.default,M==="indented"&&w.indented,M==="menu"&&w.menu);let O=null;u?O=e.createElement("span",{className:w.Prefix},u):c?O=e.createElement("span",{className:w.Prefix},e.createElement(Te,{source:c})):m&&(O=e.createElement("span",{role:"presentation",className:w.Prefix,style:{backgroundImage:`url(${m}`}}));let R=r||"";b&&r?R=e.createElement(ct,null,r):y&&(R=`${r}â€¦`);const h=a?e.createElement(e.Fragment,null,e.createElement(T,null,R),e.createElement(F,{as:"span",variant:"bodySm",tone:S||p?void 0:"subdued"},a)):e.createElement(F,{as:"span",variant:"bodyMd",fontWeight:S?"semibold":"regular"},R),v=n&&e.createElement("span",{className:w.Suffix},e.createElement(at,{tone:n.tone},n.content)),H=g&&e.createElement(T,null,e.createElement("span",{className:w.Suffix},g)),U=e.createElement("span",{className:w.Text},e.createElement(F,{as:"span",variant:"bodyMd",fontWeight:S?"semibold":"regular"},h)),z=e.createElement(oe,{blockAlign:"center",gap:"150",wrap:!1},O,U,v,H),D=e.createElement(T,{width:"100%"},z),G=S?e.createElement(Ne.ScrollTo,null):null,E=s?e.createElement(je,{id:t,url:p?null:s,className:x,external:d,"aria-label":o,onClick:p?null:l,role:_},D):e.createElement("button",{id:t,type:"button",className:x,disabled:p,"aria-label":o,onClick:l,onMouseUp:Oe,role:_,onMouseEnter:i},D);return e.createElement(e.Fragment,null,G,E)}const ct=({children:t})=>{const n=rt(),r=f.useRef(null),[o,a]=f.useState(!1);return Ye(()=>{r.current&&a(r.current.scrollWidth>r.current.offsetWidth)},[t]),o?e.createElement(de,{zIndexOverride:Number(n.zIndex["z-index-11"]),preferredPosition:"above",hoverDelay:1e3,content:t,dismissOnMouseOut:!0},e.createElement(F,{as:"span",truncate:!0},t)):e.createElement(F,{as:"span",truncate:!0},e.createElement(T,{width:"100%",ref:r},t))};function ut({section:t,hasMultipleSections:n,isFirst:r,actionRole:o,onActionAnyItem:a}){const s=u=>()=>{u&&u(),a&&a()},l=t.items.map(({content:u,helpText:g,onAction:p,...d},P)=>{const y=e.createElement(We,Object.assign({content:u,helpText:g,role:o,onAction:s(p)},d));return e.createElement(T,{as:"li",key:`${u}-${P}`,role:o==="menuitem"?"presentation":void 0},e.createElement(oe,{wrap:!1},y))});let i=null;t.title&&(i=typeof t.title=="string"?e.createElement(T,{paddingBlockStart:"300",paddingBlockEnd:"100",paddingInlineStart:"300",paddingInlineEnd:"300"},e.createElement(F,{as:"p",variant:"headingSm"},t.title)):e.createElement(T,{padding:"200",paddingInlineEnd:"150"},t.title));let c;switch(o){case"option":c="presentation";break;case"menuitem":c=n?"presentation":"menu";break;default:c=void 0;break}const m=e.createElement(e.Fragment,null,i,e.createElement(T,Object.assign({as:"div",padding:"150"},n&&{paddingBlockStart:"0"},{tabIndex:n?void 0:-1}),e.createElement(He,Object.assign({gap:"050",as:"ul"},c&&{role:c}),l)));return n?e.createElement(T,Object.assign({as:"li",role:"presentation",borderColor:"border-secondary"},!r&&{borderBlockStartWidth:"025"},!t.title&&{paddingBlockStart:"150"}),m):m}const dt=8;function me({items:t,sections:n=[],actionRole:r,allowFiltering:o,onActionAnyItem:a}){const s=q(),l=f.useContext(Ie);let i=[];const c=f.useRef(null),[m,u]=f.useState("");t?i=[{items:t},...n]:n&&(i=n);const g=i?.some(h=>h.items.some(v=>typeof v.content=="string")),p=i.length>1,d=p&&r==="menuitem"?"menu":void 0,P=p&&r==="menuitem"?-1:void 0,y=i?.map(h=>({...h,items:h.items.filter(({content:v})=>typeof v=="string"?v?.toLowerCase().includes(m.toLowerCase()):v)})),b=y.map((h,v)=>h.items.length>0?e.createElement(ut,{key:typeof h.title=="string"?h.title:v,section:h,hasMultipleSections:p,actionRole:r,onActionAnyItem:a,isFirst:v===0}):null),S=h=>{h.preventDefault(),c.current&&h.target&&c.current.contains(h.target)&&Ue(c.current,h.target)},_=h=>{h.preventDefault(),c.current&&h.target&&c.current.contains(h.target)&&$e(c.current,h.target)},M=r==="menuitem"?e.createElement(e.Fragment,null,e.createElement(le,{keyEvent:"keydown",keyCode:se.DownArrow,handler:_}),e.createElement(le,{keyEvent:"keydown",keyCode:se.UpArrow,handler:S})):null,x=f.useMemo(()=>y?.reduce((v,H)=>v+H.items.length,0)||0,[y]),R=(i?.reduce((h,v)=>h+v.items.length,0)||0)>=dt;return e.createElement(e.Fragment,null,(o||l)&&R&&g&&e.createElement(T,{padding:"200",paddingBlockEnd:x>0?"0":"200"},e.createElement(Je,{clearButton:!0,labelHidden:!0,label:s.translate("Polaris.ActionList.SearchField.placeholder"),placeholder:s.translate("Polaris.ActionList.SearchField.placeholder"),autoComplete:"off",value:m,onChange:h=>u(h),prefix:e.createElement(Te,{source:ke}),onClearButtonClick:()=>u("")})),e.createElement(T,{as:p?"ul":"div",ref:c,role:d,tabIndex:P},M,b))}me.Item=We;var ge={ActionMenu:"Polaris-ActionMenu"},mt={RollupActivator:"Polaris-ActionMenu-RollupActions__RollupActivator"};function pt(t,{id:n,active:r=!1,ariaHaspopup:o,activatorDisabled:a=!1}){a||(t.tabIndex=t.tabIndex||0),t.setAttribute("aria-controls",n),t.setAttribute("aria-owns",n),t.setAttribute("aria-expanded",String(r)),t.setAttribute("data-state",r?"open":"closed"),o!=null&&t.setAttribute("aria-haspopup",String(o))}var C={Popover:"Polaris-Popover",PopoverOverlay:"Polaris-Popover__PopoverOverlay","PopoverOverlay-noAnimation":"Polaris-Popover__PopoverOverlay--noAnimation","PopoverOverlay-entering":"Polaris-Popover__PopoverOverlay--entering","PopoverOverlay-open":"Polaris-Popover__PopoverOverlay--open",measuring:"Polaris-Popover--measuring","PopoverOverlay-exiting":"Polaris-Popover__PopoverOverlay--exiting",fullWidth:"Polaris-Popover--fullWidth",Content:"Polaris-Popover__Content",positionedAbove:"Polaris-Popover--positionedAbove",positionedCover:"Polaris-Popover--positionedCover",ContentContainer:"Polaris-Popover__ContentContainer","Content-fullHeight":"Polaris-Popover__Content--fullHeight","Content-fluidContent":"Polaris-Popover__Content--fluidContent",Pane:"Polaris-Popover__Pane","Pane-fixed":"Polaris-Popover__Pane--fixed","Pane-subdued":"Polaris-Popover__Pane--subdued","Pane-captureOverscroll":"Polaris-Popover__Pane--captureOverscroll",Section:"Polaris-Popover__Section",FocusTracker:"Polaris-Popover__FocusTracker","PopoverOverlay-hideOnPrint":"Polaris-Popover__PopoverOverlay--hideOnPrint"};function we({children:t}){return e.createElement("div",{className:C.Section},e.createElement(T,{paddingInlineStart:"300",paddingInlineEnd:"300",paddingBlockStart:"200",paddingBlockEnd:"150"},t))}function ce({captureOverscroll:t=!1,fixed:n,sectioned:r,children:o,height:a,subdued:s,onScrolledToBottom:l}){const i=I(C.Pane,n&&C["Pane-fixed"],s&&C["Pane-subdued"],t&&C["Pane-captureOverscroll"]),c=r?_e(o,we,{}):o,m=a?{height:a,maxHeight:a,minHeight:a}:void 0;return n?e.createElement("div",{style:m,className:i},c):e.createElement(Ne,{shadow:!0,className:i,style:m,onScrolledToBottom:l,scrollbarWidth:"thin"},c)}let B;(function(t){t[t.Click=0]="Click",t[t.EscapeKeypress=1]="EscapeKeypress",t[t.FocusOut=2]="FocusOut",t[t.ScrollOut=3]="ScrollOut"})(B||(B={}));var L;(function(t){t.Entering="entering",t.Entered="entered",t.Exiting="exiting",t.Exited="exited"})(L||(L={}));class Le extends f.PureComponent{constructor(n){super(n),this.state={transitionStatus:this.props.active?L.Entering:L.Exited},this.contentNode=f.createRef(),this.renderPopover=r=>{const{measuring:o,desiredHeight:a,positioning:s}=r,{id:l,children:i,sectioned:c,fullWidth:m,fullHeight:u,fluidContent:g,hideOnPrint:p,autofocusTarget:d,captureOverscroll:P}=this.props,y=s==="cover",b=I(C.Popover,o&&C.measuring,(m||y)&&C.fullWidth,p&&C["PopoverOverlay-hideOnPrint"],s&&C[Be("positioned",s)]),S=o?void 0:{height:a},_=I(C.Content,u&&C["Content-fullHeight"],g&&C["Content-fluidContent"]);return e.createElement("div",Object.assign({className:b},Ze.props),e.createElement(ve,{event:"click",handler:this.handleClick}),e.createElement(ve,{event:"touchstart",handler:this.handleClick}),e.createElement(le,{keyCode:se.Escape,handler:this.handleEscape}),e.createElement("div",{className:C.FocusTracker,tabIndex:0,onFocus:this.handleFocusFirstItem}),e.createElement("div",{className:C.ContentContainer},e.createElement("div",{id:l,tabIndex:d==="none"?void 0:-1,className:_,style:S,ref:this.contentNode},ft(i,{captureOverscroll:P,sectioned:c}))),e.createElement("div",{className:C.FocusTracker,tabIndex:0,onFocus:this.handleFocusLastItem}))},this.handleClick=r=>{const o=r.target,{contentNode:a,props:{activator:s,onClose:l,preventCloseOnChildOverlayClick:i}}=this,c=r.composedPath(),m=i?ht(c,this.context.container):Pe(c,a),u=Ee(s,o);m||u||this.state.transitionStatus!==L.Entered||l(B.Click)},this.handleScrollOut=()=>{this.props.onClose(B.ScrollOut)},this.handleEscape=r=>{const o=r.target,{contentNode:a,props:{activator:s}}=this,l=r.composedPath(),i=Pe(l,a),c=Ee(s,o);(i||c)&&this.props.onClose(B.EscapeKeypress)},this.handleFocusFirstItem=()=>{this.props.onClose(B.FocusOut)},this.handleFocusLastItem=()=>{this.props.onClose(B.FocusOut)},this.overlayRef=f.createRef()}forceUpdatePosition(){this.overlayRef.current?.forceUpdatePosition()}changeTransitionStatus(n,r){this.setState({transitionStatus:n},r),this.contentNode.current&&this.contentNode.current.getBoundingClientRect()}componentDidMount(){this.props.active&&(this.focusContent(),this.changeTransitionStatus(L.Entered))}componentDidUpdate(n){this.props.active&&!n.active&&(this.focusContent(),this.changeTransitionStatus(L.Entering,()=>{this.clearTransitionTimeout(),this.enteringTimer=window.setTimeout(()=>{this.setState({transitionStatus:L.Entered})},parseInt(qe.motion["motion-duration-100"],10))})),!this.props.active&&n.active&&(this.clearTransitionTimeout(),this.setState({transitionStatus:L.Exited}))}componentWillUnmount(){this.clearTransitionTimeout()}render(){const{active:n,activator:r,fullWidth:o,preferredPosition:a="below",preferredAlignment:s="center",preferInputActivator:l=!0,fixed:i,zIndexOverride:c}=this.props,{transitionStatus:m}=this.state;if(m===L.Exited&&!n)return null;const u=I(C.PopoverOverlay,m===L.Entering&&C["PopoverOverlay-entering"],m===L.Entered&&C["PopoverOverlay-open"],m===L.Exiting&&C["PopoverOverlay-exiting"],a==="cover"&&C["PopoverOverlay-noAnimation"]);return e.createElement(et,{ref:this.overlayRef,fullWidth:o,active:n,activator:r,preferInputActivator:l,preferredPosition:a,preferredAlignment:s,render:this.renderPopover.bind(this),fixed:i,onScrollOut:this.handleScrollOut,classNames:u,zIndexOverride:c})}clearTransitionTimeout(){this.enteringTimer&&window.clearTimeout(this.enteringTimer)}focusContent(){const{autofocusTarget:n="container"}=this.props;n==="none"||this.contentNode==null||requestAnimationFrame(()=>{if(this.contentNode.current==null)return;const r=ze(this.contentNode.current);r&&n==="first-node"?r.focus({preventScroll:!1}):this.contentNode.current.focus({preventScroll:!1})})}}Le.contextType=ot;function ft(t,n){const r=f.Children.toArray(t);return De(r[0],ce)?r:_e(r,ce,n)}function Ee(t,n){if(t===n)return!0;let r=n.parentNode;for(;r!=null;){if(r===t)return!0;r=r.parentNode}return!1}function Pe(t,n){return n.current!=null&&t.includes(n.current)}function ht(t,n){return t.some(r=>r instanceof Node&&n?.contains(r))}const vt=f.forwardRef(function({activatorWrapper:n="div",children:r,onClose:o,activator:a,preventFocusOnClose:s,active:l,fixed:i,ariaHaspopup:c,preferInputActivator:m=!0,zIndexOverride:u,...g},p){const[d,P]=f.useState(),y=f.useRef(null),b=f.useRef(null),S=n,_=f.useId();function M(){y.current?.forceUpdatePosition()}f.useImperativeHandle(p,()=>({forceUpdatePosition:M}));const x=f.useCallback(()=>{if(b.current==null)return;const v=Z(b.current)||b.current,H="disabled"in v&&!!v.disabled;pt(v,{id:_,active:l,ariaHaspopup:c,activatorDisabled:H})},[_,l,c]),O=h=>{if(o(h),!(b.current==null||s)){if(h===B.FocusOut&&d){const v=Z(d)||Z(b.current)||b.current;he(v,be)||v.focus()}else if(h===B.EscapeKeypress&&d){const v=Z(d)||Z(b.current)||b.current;v?v.focus():he(v,be)}}};f.useEffect(()=>{(!d&&b.current||d&&b.current&&!b.current.contains(d))&&P(b.current.firstElementChild),x()},[d,x]),f.useEffect(()=>{d&&b.current&&P(b.current.firstElementChild),x()},[d,x]);const R=d?e.createElement(tt,{idPrefix:"popover"},e.createElement(Le,Object.assign({ref:y,id:_,activator:d,preferInputActivator:m,onClose:O,active:l,fixed:i,zIndexOverride:u},g),r)):null;return e.createElement(S,{ref:b},f.Children.only(a),R)});function be(t){let n=t.parentElement;for(;n;){if(n.matches(Qe.selector))return!1;n=n.parentElement}return!0}const Re=Object.assign(vt,{Pane:ce,Section:we});function gt({accessibilityLabel:t,items:n=[],sections:r=[]}){const o=q(),{value:a,toggle:s}=Ke(!1);if(n.length===0&&r.length===0)return null;const l=e.createElement("div",{className:mt.RollupActivator},e.createElement(ue,{icon:Me,accessibilityLabel:t||o.translate("Polaris.ActionMenu.RollupActions.rollupButton"),onClick:s}));return e.createElement(Re,{active:a,activator:l,preferredAlignment:"right",onClose:s,hideOnPrint:!0},e.createElement(me,{items:n,sections:r,onActionAnyItem:s}))}var ne={ActionsLayoutOuter:"Polaris-ActionMenu-Actions__ActionsLayoutOuter",ActionsLayout:"Polaris-ActionMenu-Actions__ActionsLayout","ActionsLayout--measuring":"Polaris-ActionMenu-Actions--actionsLayoutMeasuring",ActionsLayoutMeasurer:"Polaris-ActionMenu-Actions__ActionsLayoutMeasurer"};function Ae(t=[],n=[],r,o,a){const s=o.reduce((p,d)=>p+d,0),l=t.map((p,d)=>d),i=n.map((p,d)=>d),c=[],m=[],u=[],g=[];if(a>s)c.push(...l),u.push(...i);else{let p=0;l.forEach(d=>{const P=o[d];if(p+P>=a-r){m.push(d);return}c.push(d),p+=P}),i.forEach(d=>{const P=o[d+t.length];if(p+P>=a-r){g.push(d);return}u.push(d),p+=P})}return{visibleActions:c,hiddenActions:m,visibleGroups:u,hiddenGroups:g}}var Et={Details:"Polaris-ActionMenu-MenuGroup__Details"},ye={SecondaryAction:"Polaris-ActionMenu-SecondaryAction",critical:"Polaris-ActionMenu-SecondaryAction--critical"};function Q({children:t,tone:n,helpText:r,onAction:o,destructive:a,...s}){const l=e.createElement(ue,Object.assign({onClick:o,tone:a?"critical":void 0},s),t),i=r?e.createElement(de,{preferredPosition:"below",content:r},l):l;return e.createElement("div",{className:I(ye.SecondaryAction,n==="critical"&&ye.critical)},i)}function Ce({accessibilityLabel:t,active:n,actions:r,details:o,title:a,icon:s,disabled:l,onClick:i,onClose:c,onOpen:m,sections:u}){const g=f.useCallback(()=>{c(a)},[c,a]),p=f.useCallback(()=>{m(a)},[m,a]),d=f.useCallback(()=>{i?i(p):p()},[i,p]),P=e.createElement(Q,{disclosure:!0,disabled:l,icon:s,accessibilityLabel:t,onClick:d},a);return e.createElement(Re,{active:!!n,activator:P,preferredAlignment:"left",onClose:g,hideOnPrint:!0},e.createElement(me,{items:r,sections:u,onActionAnyItem:g}),o&&e.createElement("div",{className:Et.Details},o))}const Pt=8;function bt({actions:t=[],groups:n=[],handleMeasurement:r}){const o=q(),a=f.useRef(null),s={title:o.translate("Polaris.ActionMenu.Actions.moreActions")},l=e.createElement(Q,{disclosure:!0},s.title),i=f.useCallback(()=>{if(!a.current)return;const u=a.current.offsetWidth,g=a.current.children,d=Array.from(g).map(y=>Math.ceil(y.getBoundingClientRect().width)+Pt),P=d.pop()||0;r({containerWidth:u,disclosureWidth:P,hiddenActionsWidths:d})},[r]);f.useEffect(()=>{i()},[i,t,n]);const c=t.map(u=>{const{content:g,onAction:p,...d}=u;return e.createElement(Q,Object.assign({key:g,onClick:p},d),g)}),m=n.map(u=>{const{title:g,icon:p}=u;return e.createElement(Q,{key:g,disclosure:!0,icon:p},g)});return it("resize",i),e.createElement("div",{className:ne.ActionsLayoutMeasurer,ref:a},c,m,l)}function At({actions:t,groups:n,onActionRollup:r}){const o=q(),a=f.useRef(null),[s,l]=f.useState(void 0),[i,c]=f.useReducer((E,A)=>({...E,...A}),{disclosureWidth:0,containerWidth:1/0,actionsWidths:[],visibleActions:[],hiddenActions:[],visibleGroups:[],hiddenGroups:[],hasMeasured:!1}),{visibleActions:m,hiddenActions:u,visibleGroups:g,hiddenGroups:p,containerWidth:d,disclosureWidth:P,actionsWidths:y,hasMeasured:b}=i,S={title:o.translate("Polaris.ActionMenu.Actions.moreActions"),actions:[]},_=f.useCallback(E=>l(s?void 0:E),[s]),M=f.useCallback(()=>l(void 0),[]);f.useEffect(()=>{if(d===0)return;const{visibleActions:E,visibleGroups:A,hiddenActions:k,hiddenGroups:W}=Ae(t,n,P,y,d);c({visibleActions:E,visibleGroups:A,hiddenActions:k,hiddenGroups:W,hasMeasured:d!==1/0})},[d,P,t,n,y,c]);const x=f.useMemo(()=>t??[],[t]),O=f.useMemo(()=>n??[],[n]),R=x.filter((E,A)=>!!m.includes(A)).map(E=>{const{content:A,onAction:k,...W}=E;return e.createElement(Q,Object.assign({key:A,onClick:k},W),A)}),v=(p.length>0||u.length>0?[...O,S]:[...O]).filter((E,A)=>{const k=O.length===0,W=g.includes(A),K=E===S;return k?u.length>0:K?!0:W}),H=u.map(E=>x[E]).filter(E=>E!=null),U=p.map(E=>O[E]).filter(E=>E!=null),z=v.map(E=>{const{title:A,actions:k,...W}=E,K=E===S,J=[...H,...U],[ae,X]=J.reduce(([j,pe],V)=>(yt(V)?pe.push({title:V.title,items:V.actions.map(fe=>({...fe,disabled:V.disabled||fe.disabled}))}):j.push(V),[j,pe]),[[],[]]);return K?e.createElement(Ce,Object.assign({key:A,title:A,active:A===s,actions:[...ae,...k],sections:X},W,{onOpen:_,onClose:M})):e.createElement(Ce,Object.assign({key:A,title:A,active:A===s,actions:k},W,{onOpen:_,onClose:M}))}),D=f.useCallback(E=>{const{hiddenActionsWidths:A,containerWidth:k,disclosureWidth:W}=E,{visibleActions:K,hiddenActions:J,visibleGroups:ae,hiddenGroups:X}=Ae(x,O,W,A,k);if(r){const j=J.length>0||X.length>0;a.current!==j&&(r(j),a.current=j)}c({visibleActions:K,hiddenActions:J,visibleGroups:ae,hiddenGroups:X,actionsWidths:A,containerWidth:k,disclosureWidth:W,hasMeasured:!0})},[x,O,r]),G=e.createElement(bt,{actions:t,groups:n,handleMeasurement:D});return e.createElement("div",{className:ne.ActionsLayoutOuter},G,e.createElement("div",{className:I(ne.ActionsLayout,!b&&ne["ActionsLayout--measuring"])},R,z))}function yt(t){return"title"in t}function Ct({actions:t=[],groups:n=[],rollup:r,rollupActionsLabel:o,onActionRollup:a}){if(t.length===0&&n.length===0)return null;const s=I(ge.ActionMenu,r&&ge.rollup),l=n.map(i=>_t(i));return e.createElement("div",{className:s},r?e.createElement(gt,{accessibilityLabel:o,items:t,sections:l}):e.createElement(At,{actions:t,groups:n,onActionRollup:a}))}function St(t=[]){return t.length===0?!1:t.some(n=>n.actions.length>0)}function _t({title:t,actions:n,disabled:r}){return{title:t,items:n.map(o=>({...o,disabled:r||o.disabled}))}}function Ot({backAction:t}){const{content:n}=t;return e.createElement(ue,{key:n,url:"url"in t?t.url:void 0,onClick:"onAction"in t?t.onAction:void 0,onPointerDown:Oe,icon:xe,accessibilityLabel:t.accessibilityLabel??n})}function Fe(){const t=f.useContext(st);if(!t)throw new Error("No mediaQuery was provided. Your application must be wrapped in an <AppProvider> component. See https://polaris.shopify.com/components/app-provider for implementation instructions.");return t}function Y(t){return!f.isValidElement(t)&&t!==void 0}function re(t){return f.isValidElement(t)&&t!==void 0}var ee={Page:"Polaris-Page",fullWidth:"Polaris-Page--fullWidth",narrowWidth:"Polaris-Page--narrowWidth",Content:"Polaris-Page__Content"},N={TitleWrapper:"Polaris-Page-Header__TitleWrapper",TitleWrapperExpand:"Polaris-Page-Header__TitleWrapperExpand",BreadcrumbWrapper:"Polaris-Page-Header__BreadcrumbWrapper",PaginationWrapper:"Polaris-Page-Header__PaginationWrapper",PrimaryActionWrapper:"Polaris-Page-Header__PrimaryActionWrapper",Row:"Polaris-Page-Header__Row",mobileView:"Polaris-Page-Header--mobileView",RightAlign:"Polaris-Page-Header__RightAlign",noBreadcrumbs:"Polaris-Page-Header--noBreadcrumbs",AdditionalMetaData:"Polaris-Page-Header__AdditionalMetaData",Actions:"Polaris-Page-Header__Actions",longTitle:"Polaris-Page-Header--longTitle",mediumTitle:"Polaris-Page-Header--mediumTitle",isSingleRow:"Polaris-Page-Header--isSingleRow"},$={Title:"Polaris-Header-Title",TitleWithSubtitle:"Polaris-Header-Title__TitleWithSubtitle",TitleWrapper:"Polaris-Header-Title__TitleWrapper",SubTitle:"Polaris-Header-Title__SubTitle",SubtitleCompact:"Polaris-Header-Title__SubtitleCompact",SubtitleMaxWidth:"Polaris-Header-Title__SubtitleMaxWidth"};function Nt({title:t,subtitle:n,titleMetadata:r,compactTitle:o,hasSubtitleMaxWidth:a}){const s=I($.Title,n&&$.TitleWithSubtitle),l=t?e.createElement("h1",{className:s},e.createElement(F,{as:"span",variant:"headingLg",fontWeight:"bold"},t)):null,i=r?e.createElement(Ve,{marginBlock:"100"},r):null,c=e.createElement("div",{className:$.TitleWrapper},l,i),m=n?e.createElement("div",{className:I($.SubTitle,o&&$.SubtitleCompact,a&&$.SubtitleMaxWidth)},e.createElement(F,{as:"p",variant:"bodySm",tone:"subdued"},n)):null;return e.createElement(e.Fragment,null,c,m)}const Tt=20,xt=8,Se=34;function Mt({title:t,subtitle:n,pageReadyAccessibilityLabel:r,titleMetadata:o,additionalMetadata:a,titleHidden:s=!1,primaryAction:l,pagination:i,filterActions:c,backAction:m,secondaryActions:u=[],actionGroups:g=[],compactTitle:p=!1,onActionRollup:d}){const P=q(),{isNavigationCollapsed:y}=Fe(),b=!l&&!i&&(Y(u)&&!u.length||re(u))&&!g.length,S=g.length>0||Y(u)&&u.length>0||re(u),_=m?e.createElement("div",{className:N.BreadcrumbWrapper},e.createElement(T,{maxWidth:"100%",paddingInlineEnd:"100",printHidden:!0},e.createElement(Ot,{backAction:m}))):null,M=i&&!y?e.createElement("div",{className:N.PaginationWrapper},e.createElement(T,{printHidden:!0},e.createElement(nt,Object.assign({},i,{hasPrevious:i.hasPrevious,hasNext:i.hasNext})))):null,x=e.createElement("div",{className:I(N.TitleWrapper,!S&&N.TitleWrapperExpand)},e.createElement(Nt,{title:t,subtitle:n,titleMetadata:o,compactTitle:p,hasSubtitleMaxWidth:S})),O=r||t,R=O?e.createElement("div",{role:"status"},e.createElement(F,{visuallyHidden:!0,as:"p"},P.translate("Polaris.Page.Header.pageReadyAccessibilityLabel",{title:O}))):void 0,h=l?e.createElement(kt,{primaryAction:l}):null;let v=null;Y(u)&&(u.length>0||St(g))?v=e.createElement(Ct,{actions:u,groups:g,rollup:y,rollupActionsLabel:t?P.translate("Polaris.Page.Header.rollupActionsLabel",{title:t}):void 0,onActionRollup:d}):re(u)&&(v=e.createElement(e.Fragment,null,u));const H=_||M?e.createElement(T,{printHidden:!0,paddingBlockEnd:"100",paddingInlineEnd:v&&y?"1000":void 0},e.createElement(oe,{gap:"400",align:"space-between",blockAlign:"center"},_,M)):null,U=a?e.createElement("div",{className:N.AdditionalMetaData},e.createElement(F,{tone:"subdued",as:"span",variant:"bodySm"},a)):null,z=I(b&&N.isSingleRow,H&&N.hasNavigation,v&&N.hasActionMenu,y&&N.mobileView,!m&&N.noBreadcrumbs,t&&t.length<Se&&N.mediumTitle,t&&t.length>Se&&N.longTitle),{slot1:D,slot2:G,slot3:E,slot4:A,slot5:k}=Wt({actionMenuMarkup:v,additionalMetadataMarkup:U,breadcrumbMarkup:_,isNavigationCollapsed:y,pageTitleMarkup:x,paginationMarkup:M,primaryActionMarkup:h,title:t});return e.createElement(T,{position:"relative",paddingBlockStart:{xs:"400",md:"600"},paddingBlockEnd:{xs:"400",md:"600"},paddingInlineStart:{xs:"400",sm:"0"},paddingInlineEnd:{xs:"400",sm:"0"},visuallyHidden:s},R,e.createElement("div",{className:z},e.createElement(lt,{filterActions:!!c},e.createElement(ie,{condition:[D,G,E,A].some(te)},e.createElement("div",{className:N.Row},D,G,e.createElement(ie,{condition:[E,A].some(te)},e.createElement("div",{className:N.RightAlign},e.createElement(Ge,{condition:[E,A].every(te),wrapper:W=>e.createElement("div",{className:N.Actions},W)},E,A))))),e.createElement(ie,{condition:[k].some(te)},e.createElement("div",{className:N.Row},e.createElement(oe,{gap:"400"},k))))))}function kt({primaryAction:t}){const{isNavigationCollapsed:n}=Fe();let r;if(Y(t)){const{primary:o,helpText:a}=t,s=o===void 0?!0:o,l=Xe(It(n,t),{variant:s?"primary":void 0});r=a?e.createElement(de,{content:a},l):l}else r=t;return e.createElement("div",{className:N.PrimaryActionWrapper},e.createElement(T,{printHidden:!0},r))}function It(t,n){let{content:r,accessibilityLabel:o}=n;const{icon:a}=n;return a==null?{...n,icon:void 0}:(t&&(o=o||r,r=void 0),{...n,content:r,accessibilityLabel:o,icon:a})}function te(t){return t!=null}function Wt({actionMenuMarkup:t,additionalMetadataMarkup:n,breadcrumbMarkup:r,isNavigationCollapsed:o,pageTitleMarkup:a,paginationMarkup:s,primaryActionMarkup:l,title:i}){const c={mobileCompact:{slots:{slot1:null,slot2:a,slot3:t,slot4:l,slot5:n},condition:o&&r==null&&i!=null&&i.length<=xt},mobileDefault:{slots:{slot1:r,slot2:a,slot3:t,slot4:l,slot5:n},condition:o},desktopCompact:{slots:{slot1:r,slot2:a,slot3:t,slot4:l,slot5:n},condition:!o&&s==null&&t==null&&i!=null&&i.length<=Tt},desktopDefault:{slots:{slot1:r,slot2:a,slot3:e.createElement(e.Fragment,null,t,l),slot4:s,slot5:n},condition:!o}};return(Object.values(c).find(u=>u.condition)||c.desktopDefault).slots}function qt({children:t,fullWidth:n,narrowWidth:r,...o}){const a=I(ee.Page,n&&ee.fullWidth,r&&ee.narrowWidth),s=o.title!=null&&o.title!==""||o.subtitle!=null&&o.subtitle!==""||o.primaryAction!=null||o.secondaryActions!=null&&(Y(o.secondaryActions)&&o.secondaryActions.length>0||re(o.secondaryActions))||o.actionGroups!=null&&o.actionGroups.length>0||o.backAction!=null,l=I(!s&&ee.Content),i=s?e.createElement(Mt,Object.assign({filterActions:!0},o)):null;return e.createElement("div",{className:a},i,e.createElement("div",{className:l},t))}export{me as A,qt as P,Me as S,Re as a,Fe as u};
