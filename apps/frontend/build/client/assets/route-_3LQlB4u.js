import{R as g,j as e,r as k}from"./jsx-runtime-BMrMXMSG.js";import{R as O,h as R}from"./index-NTrdOwuS.js";import{B as W,L as Z,a as j,G as J,b as C}from"./constants-PTFKni65.js";import{T as n,B as i}from"./BlockStack-CwgU8ZDe.js";import{B as b}from"./use-toggle-Eq3DVTD9.js";import{u as V,b as K}from"./index-X6hTWa2L.js";import{u as P}from"./index-qcftwevc.js";import{a as H,F as $,L as w}from"./components-HnT9RUCx.js";import{S as q}from"./SkeletonPage-De1vAtof.js";import{C as s}from"./Card-ZEVPeMCa.js";import{S as c}from"./SkeletonBodyText-PJLcqbGt.js";import{P as z}from"./Page-DZ5GBioq.js";import{I as D}from"./InlineGrid-CSxQjylE.js";import{B as S}from"./Box-rytM3cuw.js";import{D as B}from"./Divider-BzciHtgk.js";import{I as d}from"./InlineStack-BZy780dy.js";import{T as I}from"./Pagination-Dn9qu2P0.js";import{F as Y}from"./FooterHelp-CYIxbky1.js";import"./context-DYc23ASG.js";import"./Icon-C8tnHXot.js";import"./use-is-after-initial-mount-2owk6l5Z.js";import"./within-content-context-B9v2rWOt.js";import"./ButtonGroup-CD4h0o06.js";import"./Bleed-CojZzunP.js";import"./TextField-BeUUpecL.js";import"./use-event-listener-CxlhjZIg.js";import"./EventListener-kZJ1rsuP.js";import"./context-BqWvd0oi.js";import"./Badge-SnCWnBbz.js";import"./context-B2IVp4WU.js";var A=function(a){return g.createElement("svg",Object.assign({viewBox:"0 0 20 20"},a),g.createElement("path",{fillRule:"evenodd",d:"M3.5 6.25a2.75 2.75 0 0 1 2.75-2.75h7.5a2.75 2.75 0 0 1 2.75 2.75v4.5a2.75 2.75 0 0 1-2.75 2.75h-1.25v1.5h.75a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1 0-1.5h.75v-1.5h-1.25a2.75 2.75 0 0 1-2.75-2.75v-4.5Zm5.5 7.25h2v1.5h-2v-1.5Zm-2.75-8.5c-.69 0-1.25.56-1.25 1.25v3.25h10v-3.25c0-.69-.56-1.25-1.25-1.25h-7.5Zm8.725 6c-.116.57-.62 1-1.225 1h-7.5a1.25 1.25 0 0 1-1.225-1h9.95Z"}))};A.displayName="DesktopIcon";var F=function(a){return g.createElement("svg",Object.assign({viewBox:"0 0 20 20"},a),g.createElement("path",{d:"M7.75 13.75a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 0 1.5h-3a.75.75 0 0 1-.75-.75Z"}),g.createElement("path",{fillRule:"evenodd",d:"M4.75 5.75a2.75 2.75 0 0 1 2.75-2.75h5a2.75 2.75 0 0 1 2.75 2.75v8.5a2.75 2.75 0 0 1-2.75 2.75h-5a2.75 2.75 0 0 1-2.75-2.75v-8.5Zm2.75-1.25c-.69 0-1.25.56-1.25 1.25v8.5c0 .69.56 1.25 1.25 1.25h5c.69 0 1.25-.56 1.25-1.25v-8.5c0-.69-.56-1.25-1.25-1.25h-.531a1 1 0 0 1-.969.75h-2a1 1 0 0 1-.969-.75h-.531Z"}))};F.displayName="MobileIcon";const U="/assets/navStickyMobile-pwuzWHr9.png",Q="/assets/navNormalMobile-Cg-oHKqj.png",X="/assets/navNormalDesktop-CVZqIvWA.png",ee="/assets/navStickyDesktop-yJA4uUmx.png",te="_divWithFlexCenterContent_xey5s_1",ae="_sticky_xey5s_11",ie="_image_xey5s_39",se="_active_xey5s_34",y={divWithFlexCenterContent:te,sticky:ae,image:ie,active:se};function u({value:t,selectedValue:a,imgSrc:r,updateHandler:m,label:f,attributeKey:v,horizontal:N}){return e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"radio",id:"sticky",name:"displayMobileStepNavigation",defaultValue:t,hidden:!0}),e.jsx("label",{htmlFor:"displayMobileStepNavigation","aria-label":"sticky",children:e.jsxs("div",{className:y.divWithFlexCenterContent,children:[e.jsx(n,{as:"p",fontWeight:"bold",variant:"headingMd",children:f}),e.jsx("img",{src:r,alt:"Sticky navigation",width:N?370:220,onClick:()=>{m(v,t)},className:`${y.image} ${a===t?y.active:""}`}),e.jsx(b,{variant:"primary",disabled:a===t,onClick:()=>{m(v,t)},children:a!==t?"Select":"Selected"})]})})]})}function Ee(){const t=V(),a=K(),r=O(),m=t.state==="loading",f=t.state==="submitting",v=P(),p=H().data.globalSettings,G={...p,stepNavigationTypeDesktop:p.stepNavigationTypeDesktop,stepNavigationTypeMobile:p.stepNavigationTypeMobile},[o,_]=k.useState(G),[h,M]=k.useState("desktop"),E=async()=>{await r.saveBar.hide("my-save-bar");const l=new FormData;l.append("action","updateSettings"),l.append("globalSettings",JSON.stringify(o)),v(l,{method:"POST",navigate:!0})},x=(l,T)=>{console.log(l,T),_(L=>({...L,[l]:T}))};return k.useEffect(()=>{JSON.stringify(o)!==JSON.stringify(p)&&r.saveBar.show("my-save-bar")},[o,p]),e.jsx(e.Fragment,{children:m||f?e.jsx(q,{primaryAction:!0,children:e.jsxs(i,{gap:"500",children:[e.jsx(s,{children:e.jsx(c,{})}),e.jsx(s,{children:e.jsx(c,{})}),e.jsx(s,{children:e.jsx(c,{})}),e.jsx(s,{children:e.jsx(c,{})}),e.jsx(s,{children:e.jsx(c,{})}),e.jsx(s,{children:e.jsx(c,{})})]})}):e.jsxs(e.Fragment,{children:[e.jsxs(R,{id:"my-save-bar",children:[e.jsx("button",{variant:"primary",onClick:E}),e.jsx("button",{onClick:()=>r.saveBar.hide("my-save-bar")})]}),e.jsx(z,{fullWidth:!0,backAction:{content:"back",onAction:async()=>{await r.saveBar.leaveConfirmation(),a(-1)}},title:"Global settings",subtitle:"Edit the behavior of all bundles",children:e.jsxs($,{method:"POST","data-discard-confirmation":!0,"data-save-bar":!0,children:[e.jsx("input",{type:"hidden",name:"action",defaultValue:"updateSettings"}),e.jsx("input",{type:"hidden",name:"globalSettings",defaultValue:JSON.stringify(o)}),e.jsxs(i,{gap:W,children:[e.jsxs(i,{gap:Z,children:[e.jsxs(D,{columns:{xs:"1fr",md:"3fr 4fr"},gap:"400",children:[e.jsx(S,{as:"section",children:e.jsxs(i,{gap:"400",children:[e.jsx(n,{as:"h3",variant:"headingLg",children:"Colors"}),e.jsx(n,{as:"p",children:"Edit colors to match your brand."})]})}),e.jsx(s,{children:e.jsxs(i,{gap:j,children:[e.jsx(n,{as:"p",children:"All styling changes are done using Shopify's native theme editor."}),e.jsx(n,{as:"p",children:"Just click 'Edit styles'. The editing process is the same as if you were editing your theme."})]})})]}),e.jsx(B,{}),e.jsx(d,{align:"center",children:e.jsx(n,{as:"h3",variant:"headingLg",children:e.jsx(d,{children:"The settings below apply separately for desktop and mobile."})})}),e.jsx("div",{className:y.sticky,children:e.jsx(s,{padding:"200",children:e.jsxs(d,{gap:J,align:"space-between",blockAlign:"center",children:[e.jsxs(n,{as:"h3",variant:"headingMd",children:["You are currently editing settings for: ",e.jsx("u",{children:h==="desktop"?"Desktop":"Mobile"})]}),e.jsxs(d,{gap:j,children:[e.jsx(I,{content:"Desktop",children:e.jsx(b,{variant:"secondary",icon:A,disabled:h==="desktop",onClick:()=>{M("desktop")}})}),e.jsx(I,{content:"Mobile",children:e.jsx(b,{variant:"secondary",icon:F,disabled:h==="mobile",onClick:()=>{M("mobile")}})})]})]})})}),e.jsx(B,{}),e.jsxs(D,{columns:{xs:"1fr",md:`${h==="desktop"?"2fr 5fr":"3fr 4fr"}`},gap:"400",children:[e.jsx(S,{as:"section",children:e.jsxs(i,{gap:"400",children:[e.jsx(n,{as:"h3",variant:"headingLg",children:"Step navigation"}),e.jsx(n,{as:"p",variant:"bodyMd",children:"Navigation can be sticky or normal. Sticky navigation will be always visible on the screen, while normal navigation is only visible when the user scrolls down."})]})}),e.jsx(s,{children:h==="desktop"?e.jsx(i,{gap:C,children:e.jsxs(d,{gap:j,align:"center",blockAlign:"center",children:[e.jsx(u,{label:"Normal navigation",imgSrc:X,attributeKey:"stepNavigationTypeDesktop",selectedValue:o.stepNavigationTypeDesktop,value:"NORMAL",updateHandler:x,horizontal:!0}),e.jsx(u,{imgSrc:ee,label:"Sticky navigation",attributeKey:"stepNavigationTypeDesktop",selectedValue:o.stepNavigationTypeDesktop,value:"STICKY",updateHandler:x,horizontal:!0})]})}):e.jsx(i,{gap:C,children:e.jsxs(d,{gap:j,align:"center",blockAlign:"center",children:[e.jsx(u,{label:"Normal navigation",imgSrc:Q,attributeKey:"stepNavigationTypeMobile",selectedValue:o.stepNavigationTypeMobile,value:"NORMAL",updateHandler:x}),e.jsx(u,{imgSrc:U,label:"Sticky navigation",attributeKey:"stepNavigationTypeMobile",selectedValue:o.stepNavigationTypeMobile,value:"STICKY",updateHandler:x})]})})})]})]}),e.jsxs(S,{width:"full",children:[e.jsx(i,{inlineAlign:"end",children:e.jsx(b,{variant:"primary",submit:!0,children:"Save"})}),e.jsxs(Y,{children:["Are you stuck? ",e.jsx(w,{to:"/app/help",children:"Get help"})," from us, or ",e.jsx(w,{to:"/app/feature-request",children:"suggest new features"}),"."]})]})]})]})})]})})}export{Ee as default};
