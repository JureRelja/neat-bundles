import{r as o,j as t}from"./jsx-runtime-BMrMXMSG.js";import{I as g}from"./wideButton-D6W8M1Od.js";import{a as x,L as h}from"./constants-xrzLx32Y.js";import{B as i}from"./BundleDiscountTypeClient-B-3njYHa.js";import{u as T}from"./index-y3bcNOgC.js";import{a as _}from"./index-dL4ND7l9.js";import{a as y}from"./components-BDrsBlv3.js";import{B as s,T as d}from"./BlockStack-CBC_PXe6.js";import{S as D}from"./Select-Cif7Qcy3.js";import{T as S}from"./TextField-B-Nm0VLF.js";import"./use-toggle-Bx-o2WPs.js";import"./context-C-JwoyEZ.js";import"./Icon-C-cZWGQM.js";import"./use-is-after-initial-mount-DPsAqfZs.js";import"./Box-CnqJGKrn.js";import"./use-event-listener-DOg0fKDs.js";import"./EventListener-kZJ1rsuP.js";const I="_tableWrapper_59idc_1",j="_loadingTable_59idc_5",E="_hide_59idc_18",N="_fadeIn_59idc_22",v="_animateright_59idc_1",C={tableWrapper:I,loadingTable:j,hide:E,fadeIn:N,animateright:v};function q(){const l=T(),u=_(),r=y(),[a,c]=o.useState(r.data.discountType),[n,p]=o.useState(r.data.discountValue),[m,b]=o.useState([]),f=()=>{if(n<=0||n>=100){b([{fieldId:"discountValue",field:"discountValue",message:"Discount value should be between 0 and 100"}]);return}const e=new FormData;e.append("action","updateDiscount"),e.append("discountType",a),e.append("discountValue",n.toString()),l(e,{method:"POST",action:`/app/edit-bundle-builder/${u.bundleid}/builder?stepNumber=5&onboarding=true`})};return t.jsx("div",{className:C.fadeIn,children:t.jsxs(s,{gap:"1000",inlineAlign:"center",children:[t.jsxs(s,{gap:x,children:[t.jsx(d,{as:"p",variant:"headingLg",alignment:"center",children:"Enter bundle discount"}),t.jsx(d,{as:"p",variant:"bodyMd",tone:"subdued",alignment:"center",children:"Customers are more likely to buy a bundle if they know they are getting a discount."})]}),t.jsx("div",{style:{width:"300px"},children:t.jsxs(s,{gap:h,children:[t.jsx(D,{label:"Discount Type",name:"bundleDiscountType",options:[{label:"Percentage (e.g. 25% off)",value:i.PERCENTAGE},{label:"Fixed (e.g. 10$ off)",value:i.FIXED},{label:"No discount",value:i.NO_DISCOUNT}],value:a,onChange:e=>{c(e)}}),t.jsx(S,{label:"Discount amount",type:"number",autoComplete:"off",inputMode:"numeric",disabled:a==="NO_DISCOUNT",name:"discountValue",prefix:a===i.PERCENTAGE?"%":"$",min:0,max:100,value:n.toString(),error:m?.find(e=>e.fieldId==="discountValue")?.message,onChange:e=>{p(Number(e))}})]})}),t.jsx(g,{onClick:f})]})})}export{q as default};
