import{r as p,j as t}from"./jsx-runtime-BMrMXMSG.js";import{a as T,G as C}from"./constants-PTFKni65.js";import{I as j}from"./wideButton-DColMLDC.js";import{I as S}from"./contentStepInputs-MXs24Sf4.js";import{u as y}from"./index-qcftwevc.js";import{a as E}from"./index-X6hTWa2L.js";import{B as a,T as o}from"./BlockStack-CwgU8ZDe.js";import{T as q}from"./TextField-BeUUpecL.js";import"./use-toggle-Eq3DVTD9.js";import"./context-DYc23ASG.js";import"./Icon-C8tnHXot.js";import"./use-is-after-initial-mount-2owk6l5Z.js";import"./InlineStack-BZy780dy.js";import"./DeleteIcon.svg-BsxW9olQ.js";import"./InlineGrid-CSxQjylE.js";import"./Select-DopI2RBP.js";import"./Box-rytM3cuw.js";import"./ChoiceList-D6-7UDXf.js";import"./Bleed-CojZzunP.js";import"./use-event-listener-CxlhjZIg.js";import"./EventListener-kZJ1rsuP.js";const w={};function V(){const u=y(),m=E(),[c,d]=p.useState([]),h=()=>{if(!s)return;if(e.inputLabel.length===0){d(r=>r?[...r,{fieldId:`inputLabel${e.id}`,field:"Input label",message:"Input label is required"}]:[{fieldId:`inputLabel${e.id}`,field:"Input label",message:"Input label is required"}]);return}else if(e.inputType!="IMAGE"&&(!e.maxChars||e.maxChars<1)){d(r=>r?[...r,{fieldId:`maxChars${e.id}`,field:"Max length",message:"Max length is required and must be greater than 0"}]:[{fieldId:`maxChars${e.id}`,field:"Max length",message:"Max length is required and must be greater than 0"}]);return}const n=new FormData,i={title:s,description:"",stepType:"CONTENT",stepNumber:1,contentInputs:[{inputLabel:e.inputLabel,required:e.required,maxChars:e.maxChars,inputType:e.inputType}]};n.append("stepData",JSON.stringify(i)),n.append("action","addContentStep"),u(n,{method:"POST",action:`/app/edit-bundle-builder/${m.bundleid}/steps?onboarding=true&stepNumber=4`})},[s,x]=p.useState(),[e,l]=p.useState({id:1,inputType:"TEXT",inputLabel:"",required:!0,maxChars:50,bundleStepId:1}),f=n=>{l(n)},g=n=>{d(i=>i.filter(I=>I.fieldId===n))},b=n=>{l(i=>({...i,id:i.id-1}))};return t.jsx("div",{className:w.fadeIn,children:t.jsxs(a,{gap:"1000",inlineAlign:"center",children:[t.jsxs(a,{gap:T,children:[t.jsx(o,{as:"p",variant:"headingLg",alignment:"center",children:"Enter the title for the second step"}),t.jsx(q,{label:"Step title",labelHidden:!0,error:s===""?"Step title is required":"",type:"text",name:"stepTitle",value:s,helpText:"Customers will see this title when they build a bundle.",onChange:n=>{x(n)},autoComplete:"off"})]}),t.jsxs(a,{gap:"600",inlineAlign:"center",children:[t.jsxs(a,{gap:C,children:[t.jsx(o,{as:"p",variant:"headingLg",alignment:"center",children:"Configure the input fields for the second step"}),t.jsx(o,{as:"p",variant:"bodyMd",tone:"subdued",alignment:"center",children:"This is a content step, where customers will need to enter content (text, numbers or image) into the input fields."})]}),t.jsx(S,{removeContentInputField:b,contentInput:e,single:!0,errors:c,inputId:e.id,index:1,updateFieldErrorHandler:g,updateContentInput:f},e.id)]}),t.jsx(j,{onClick:h})]})})}export{V as default};
