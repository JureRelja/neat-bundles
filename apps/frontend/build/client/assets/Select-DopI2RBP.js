import{r as S,R as a}from"./jsx-runtime-BMrMXMSG.js";import{c as U,v as V,T as $}from"./BlockStack-CwgU8ZDe.js";import{u as w,S as J}from"./use-toggle-Eq3DVTD9.js";import{I as K}from"./Icon-C8tnHXot.js";import{L as Q,h as W}from"./TextField-BeUUpecL.js";import{B as X}from"./Box-rytM3cuw.js";var r={Select:"Polaris-Select",disabled:"Polaris-Select--disabled",error:"Polaris-Select--error",Backdrop:"Polaris-Select__Backdrop",Input:"Polaris-Select__Input",Content:"Polaris-Select__Content",InlineLabel:"Polaris-Select__InlineLabel",Icon:"Polaris-Select__Icon",SelectedOption:"Polaris-Select__SelectedOption",Prefix:"Polaris-Select__Prefix",hover:"Polaris-Select--hover",toneMagic:"Polaris-Select--toneMagic"};const k="";function ce({options:e,label:t,labelAction:n,labelHidden:l,labelInline:i,disabled:s,helpText:v,placeholder:E,id:B,name:L,value:P=k,error:d,onChange:_,onFocus:h,onBlur:I,requiredIndicator:x,tone:u}){const{value:C,toggle:p}=w(!1),M=S.useId(),c=B??M,T=i?!0:l,H=U(r.Select,d&&r.error,u&&r[V("tone",u)],s&&r.disabled),j=S.useCallback(o=>{p(),h?.(o)},[h,p]),z=S.useCallback(o=>{p(),I?.(o)},[I,p]),R=_?o=>_(o.currentTarget.value,c):void 0,m=[];v&&m.push(W(c)),d&&m.push(`${c}Error`);let f=(e||[]).map(Y);E&&(f=[{label:E,value:k,disabled:!0},...f]);const q=i&&a.createElement(X,{paddingInlineEnd:"100"},a.createElement($,{as:"span",variant:"bodyMd",tone:u&&u==="magic"&&!C?"magic-subdued":"subdued",truncate:!0},t)),b=Z(f,P),A=b.prefix&&a.createElement("div",{className:r.Prefix},b.prefix),D=a.createElement("div",{className:r.Content,"aria-hidden":!0,"aria-disabled":s},q,A,a.createElement("span",{className:r.SelectedOption},b.label),a.createElement("span",{className:r.Icon},a.createElement(K,{source:J}))),F=f.map(ee);return a.createElement(Q,{id:c,label:t,error:d,action:n,labelHidden:T,helpText:v,requiredIndicator:x,disabled:s},a.createElement("div",{className:H},a.createElement("select",{id:c,name:L,value:P,className:r.Input,disabled:s,onFocus:j,onBlur:z,onChange:R,"aria-invalid":!!d,"aria-describedby":m.length?m.join(" "):void 0,"aria-required":x},F),D,a.createElement("div",{className:r.Backdrop})))}function O(e){return typeof e=="string"}function g(e){return typeof e=="object"&&"options"in e&&e.options!=null}function N(e){return{label:e,value:e}}function Y(e){if(O(e))return N(e);if(g(e)){const{title:t,options:n}=e;return{title:t,options:n.map(l=>O(l)?N(l):l)}}return e}function Z(e,t){const n=G(e);let l=n.find(i=>t===i.value);return l===void 0&&(l=n.find(i=>!i.hidden)),l||{value:"",label:""}}function G(e){let t=[];return e.forEach(n=>{g(n)?t=t.concat(n.options):t.push(n)}),t}function y(e){const{value:t,label:n,prefix:l,key:i,...s}=e;return a.createElement("option",Object.assign({key:i??t,value:t},s),n)}function ee(e){if(g(e)){const{title:t,options:n}=e;return a.createElement("optgroup",{label:t,key:t},n.map(y))}return y(e)}export{ce as S};
