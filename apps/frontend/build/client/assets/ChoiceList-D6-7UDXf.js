import{R as e,r as B}from"./jsx-runtime-BMrMXMSG.js";import{B as te}from"./Bleed-CojZzunP.js";import{c as R,v as F,a as oe,g as O,s as ie,T as A,B as z}from"./BlockStack-CwgU8ZDe.js";import{I as V,e as Z}from"./TextField-BeUUpecL.js";import{B as q}from"./Box-rytM3cuw.js";import{I as se}from"./Icon-C8tnHXot.js";var G=function(t){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},t),e.createElement("path",{fillRule:"evenodd",d:"M5 10c0-.414.336-.75.75-.75h8.5c.414 0 .75.336.75.75s-.336.75-.75.75h-8.5c-.414 0-.75-.336-.75-.75Z"}))};G.displayName="MinusIcon";const ce=B.createContext(!1);var f={Checkbox:"Polaris-Checkbox",ChoiceLabel:"Polaris-Checkbox__ChoiceLabel",Backdrop:"Polaris-Checkbox__Backdrop",Input:"Polaris-Checkbox__Input","Input-indeterminate":"Polaris-Checkbox__Input--indeterminate",Icon:"Polaris-Checkbox__Icon",animated:"Polaris-Checkbox--animated",toneMagic:"Polaris-Checkbox--toneMagic",hover:"Polaris-Checkbox--hover",error:"Polaris-Checkbox--error",checked:"Polaris-Checkbox--checked",pathAnimation:"Polaris-Checkbox--pathAnimation"},g={Choice:"Polaris-Choice",labelHidden:"Polaris-Choice--labelHidden",Label:"Polaris-Choice__Label",Control:"Polaris-Choice__Control",disabled:"Polaris-Choice--disabled",toneMagic:"Polaris-Choice--toneMagic",Descriptions:"Polaris-Choice__Descriptions",HelpText:"Polaris-Choice__HelpText"};function J({id:n,label:t,disabled:a,error:i,children:s,labelHidden:u,helpText:o,onClick:k,labelClassName:P,fill:y,bleed:m,bleedBlockStart:r,bleedBlockEnd:p,bleedInlineStart:h,bleedInlineEnd:v,tone:I}){const L=R(g.Choice,u&&g.labelHidden,a&&g.disabled,I&&g[F("tone",I)],P),c={...O("choice","bleed-block-end","space",p||m),...O("choice","bleed-block-start","space",r||m),...O("choice","bleed-inline-start","space",h||m),...O("choice","bleed-inline-end","space",v||m),...Object.fromEntries(Object.entries(oe("choice","fill",y)).map(([E,M])=>[E,M?"100%":"auto"]))},d=e.createElement("label",{className:L,htmlFor:n,onClick:k,style:ie(c)},e.createElement("span",{className:g.Control},s),e.createElement("span",{className:g.Label},e.createElement(A,{as:"span",variant:"bodyMd"},t))),N=o?e.createElement("div",{className:g.HelpText,id:W(n)},e.createElement(A,{as:"span",tone:a?void 0:"subdued"},o)):null,l=i&&typeof i!="boolean"&&e.createElement("div",{className:g.Error},e.createElement(V,{message:i,fieldID:n})),x=N||l?e.createElement("div",{className:g.Descriptions},l,N):null;return x?e.createElement("div",null,d,x):d}function W(n){return`${n}HelpText`}const le=B.forwardRef(function({ariaControls:t,ariaDescribedBy:a,label:i,labelHidden:s,checked:u=!1,helpText:o,disabled:k,id:P,name:y,value:m,error:r,onChange:p,onFocus:h,onBlur:v,labelClassName:I,fill:L,bleed:c,bleedBlockStart:d,bleedBlockEnd:N,bleedInlineStart:l,bleedInlineEnd:x,tone:E},M){const b=B.useRef(null),_=B.useId(),C=P??_,D=B.useContext(ce);B.useImperativeHandle(M,()=>({focus:()=>{b.current&&b.current.focus()}}));const H=()=>{v&&v()},$=()=>{p==null||b.current==null||k||(p(b.current.checked,C),b.current.focus())},S=[];r&&typeof r!="boolean"&&S.push(Z(C)),o&&S.push(W(C)),a&&S.push(a);const Q=S.length?S.join(" "):void 0,X=R(f.Checkbox,r&&f.error),j=u==="indeterminate",w=!j&&!!u,Y=j?{indeterminate:"true","aria-checked":"mixed"}:{"aria-checked":w},ee=e.createElement("svg",{viewBox:"0 0 16 16",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision"},e.createElement("path",{className:R(u&&f.checked),d:"M1.5,5.5L3.44655,8.22517C3.72862,8.62007,4.30578,8.64717,4.62362,8.28044L10.5,1.5",transform:"translate(2 2.980376)",opacity:"0",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",pathLength:"1"})),ne=R(f.Input,j&&f["Input-indeterminate"],E&&f[F("tone",E)]),ae={helpText:o,error:r,bleed:c,bleedBlockStart:d,bleedBlockEnd:N,bleedInlineStart:l,bleedInlineEnd:x};return e.createElement(J,Object.assign({id:C,label:i,labelHidden:s,disabled:k,labelClassName:R(f.ChoiceLabel,I),fill:L,tone:E},ae),e.createElement("span",{className:X},e.createElement("input",Object.assign({ref:b,id:C,name:y,value:m,type:"checkbox",checked:w,disabled:k,className:ne,onBlur:H,onChange:re,onClick:$,onFocus:h,"aria-invalid":r!=null,"aria-controls":t,"aria-describedby":Q,role:D?"presentation":"checkbox"},Y)),e.createElement("span",{className:f.Backdrop,onClick:K,onKeyUp:K}),e.createElement("span",{className:R(f.Icon,!j&&f.animated)},j?e.createElement(se,{source:G}):ee)))});function re(){}function K(n){n.stopPropagation()}var de={ChoiceChildren:"Polaris-ChoiceList__ChoiceChildren"},T={RadioButton:"Polaris-RadioButton",Input:"Polaris-RadioButton__Input",Backdrop:"Polaris-RadioButton__Backdrop",ChoiceLabel:"Polaris-RadioButton__ChoiceLabel",toneMagic:"Polaris-RadioButton--toneMagic"};function ue({ariaDescribedBy:n,label:t,labelHidden:a,helpText:i,checked:s,disabled:u,onChange:o,onFocus:k,onBlur:P,id:y,name:m,value:r,fill:p,bleed:h,bleedBlockStart:v,bleedBlockEnd:I,bleedInlineStart:L,bleedInlineEnd:c,tone:d}){const N=B.useId(),l=y??N,x=m||l,E=B.useRef(null),M=()=>{P&&P()};function b({currentTarget:$}){o&&o($.checked,l)}const _=[];i&&_.push(W(l)),n&&_.push(n);const C=_.length?_.join(" "):void 0,D=R(T.Input,d&&T[F("tone",d)]),H={helpText:i,bleed:h,bleedBlockStart:v,bleedBlockEnd:I,bleedInlineStart:L,bleedInlineEnd:c};return e.createElement(J,Object.assign({label:t,labelHidden:a,disabled:u,id:l,labelClassName:T.ChoiceLabel,fill:p},H,s?{tone:d}:{}),e.createElement("span",{className:T.RadioButton},e.createElement("input",{id:l,name:x,value:r,type:"radio",checked:s,disabled:u,className:D,onChange:b,onFocus:k,onBlur:M,"aria-describedby":C,ref:E}),e.createElement("span",{className:T.Backdrop})))}function Ee({title:n,titleHidden:t,allowMultiple:a,choices:i,selected:s,onChange:u=me,error:o,disabled:k=!1,name:P,tone:y}){const m=a?le:ue,r=B.useId(),p=P??r,h=a?`${p}[]`:p,v=n?e.createElement(q,{as:"legend",paddingBlockEnd:{xs:"0",md:"100"}},e.createElement(A,{as:"span",variant:"bodyMd",visuallyHidden:t},n)):null,I=i.map(c=>{const{value:d,id:N,label:l,helpText:x,disabled:E,describedByError:M}=c;function b(H){u(pe(c,H,s,a),p)}const _=U(c,s),C=c.renderChildren?c.renderChildren(_):null,D=C?e.createElement("div",{className:de.ChoiceChildren},e.createElement(q,{paddingBlockStart:{xs:"400",md:"0"}},C)):null;return e.createElement("li",{key:d},e.createElement(te,{marginBlockEnd:x?{xs:"100",md:"0"}:{xs:"0"}},e.createElement(m,{name:h,value:d,id:N,label:l,disabled:E||k,fill:{xs:!0,sm:!1},checked:U(c,s),helpText:x,onChange:b,ariaDescribedBy:o&&M?Z(h):null,tone:y}),D))}),L=o&&e.createElement(q,{paddingBlockStart:{xs:"0",md:"100"},paddingBlockEnd:"200"},e.createElement(V,{message:o,fieldID:h}));return e.createElement(z,{as:"fieldset",gap:{xs:"400",md:"0"},"aria-invalid":o!=null,id:h},v,e.createElement(z,{as:"ul",gap:{xs:"400",md:"0"}},I),L)}function me(){}function U({value:n},t){return t.includes(n)}function pe({value:n},t,a,i=!1){return t?i?[...a,n]:[n]:a.filter(s=>s!==n)}export{Ee as C};
