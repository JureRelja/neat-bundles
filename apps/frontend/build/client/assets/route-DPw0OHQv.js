import{r as s,j as t}from"./jsx-runtime-BMrMXMSG.js";import{I as x}from"./wideButton-DColMLDC.js";import{a as g,L as h}from"./constants-PTFKni65.js";import{B as o}from"./BundleDiscountTypeClient-B-3njYHa.js";import{u as T}from"./index-qcftwevc.js";import{a as y}from"./index-X6hTWa2L.js";import{a as D}from"./components-HnT9RUCx.js";import{B as i,T as d}from"./BlockStack-CwgU8ZDe.js";import{S}from"./Select-DopI2RBP.js";import{T as I}from"./TextField-BeUUpecL.js";import"./use-toggle-Eq3DVTD9.js";import"./context-DYc23ASG.js";import"./Icon-C8tnHXot.js";import"./use-is-after-initial-mount-2owk6l5Z.js";import"./Box-rytM3cuw.js";import"./use-event-listener-CxlhjZIg.js";import"./EventListener-kZJ1rsuP.js";const j="_fadeIn_59idc_22",E={fadeIn:j};function U(){const u=T(),l=y(),r=D(),[n,c]=s.useState(r.data.discountType),[a,m]=s.useState(r.data.discountValue??0),[p,f]=s.useState([]),b=()=>{if(a<=0||a>=100){f([{fieldId:"discountValue",field:"discountValue",message:"Discount value should be between 0 and 100"}]);return}const e=new FormData;e.append("action","updateDiscount"),e.append("discountType",n),e.append("discountValue",a.toString()),u(e,{method:"POST",action:`/app/edit-bundle-builder/${l.bundleid}/builder?stepNumber=5&onboarding=true`})};return t.jsx("div",{className:E.fadeIn,children:t.jsxs(i,{gap:"1000",inlineAlign:"center",children:[t.jsxs(i,{gap:g,children:[t.jsx(d,{as:"p",variant:"headingLg",alignment:"center",children:"Enter bundle discount"}),t.jsx(d,{as:"p",variant:"bodyMd",tone:"subdued",alignment:"center",children:"Customers are more likely to buy a bundle if they know they are getting a discount."})]}),t.jsx("div",{style:{width:"300px"},children:t.jsxs(i,{gap:h,children:[t.jsx(S,{label:"Discount Type",name:"bundleDiscountType",options:[{label:"Percentage (e.g. 25% off)",value:o.PERCENTAGE},{label:"Fixed (e.g. 10$ off)",value:o.FIXED},{label:"No discount",value:o.NO_DISCOUNT}],value:n,onChange:e=>{c(e)}}),t.jsx(I,{label:"Discount amount",type:"number",autoComplete:"off",inputMode:"numeric",disabled:n==="NO_DISCOUNT",name:"discountValue",prefix:n===o.PERCENTAGE?"%":"$",min:0,max:100,value:a.toString(),error:p?.find(e=>e.fieldId==="discountValue")?.message,onChange:e=>{m(Number(e))}})]})}),t.jsx(x,{onClick:b})]})})}export{U as default};
